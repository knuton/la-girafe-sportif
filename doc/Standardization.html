<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>Standardization</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Standardization</h1>

<div class="code">
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="Untyped.html#"><span class="id" type="library">Untyped</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="Subst.html#"><span class="id" type="library">Subst</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="Beta.html#"><span class="id" type="library">Beta</span></a>.<br/>

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.omega.Omega.html#"><span class="id" type="library">Omega</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Relations.Relation_Operators.html#"><span class="id" type="library">Relation_Operators</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Program.Equality.html#"><span class="id" type="library">Coq.Program.Equality</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab10"></a><h1 class="section">Standardization in Untyped Lambda Calculus</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Module</span> <span class="id" type="keyword">Export</span> <a name="Standardization"><span class="id" type="module">Standardization</span></a>.<br/>

<br/>
</div>

<div class="doc">
This module contains a proof of the Standardization Theorem for the untyped
   lambda calculus, made lückenlos with the help of Coq.

<div class="paragraph"> </div>

   The actual proof is not original, but closely follows that given by Ryo
   Kashima in ``A Proof of the Standardization Theorem in λ-Calculus''
   (Tokyo Institute of Technology, 2000). Due to its inductive definition
   of a standard derivation, Kashima's proof is a friendly basis for a fully
   formal one.

<div class="paragraph"> </div>

   Minor adaptations were made where prudent to facilitate work with the proof
   assistant. Those differences are pointed out in the comments and it was
   generally attempted to stay close to the paper, allowing the reader to study
   paper and Coq verbatim side by side. 
<div class="paragraph"> </div>

<a name="lab11"></a><h2 class="section">Preliminaries</h2>

<div class="paragraph"> </div>

<a name="lab12"></a><h3 class="section">Definition 2.1, Reduction Numbering</h3>

</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;Count&nbsp;the&nbsp;total&nbsp;number&nbsp;of&nbsp;redexes&nbsp;in&nbsp;a&nbsp;term.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Standardization.redcount"><span class="id" type="definition">redcount</span></a> (<span class="id" type="var">M</span> : <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <span class="id" type="var">i</span> <span class="id" type="keyword">as</span> <span class="id" type="var">v</span> ⇒ 0<br/>
&nbsp;&nbsp;| <a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <span class="id" type="var">N</span>) <span class="id" type="var">N'</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Standardization.html#redcount"><span class="id" type="definition">redcount</span></a> <span class="id" type="var">N</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Standardization.html#redcount"><span class="id" type="definition">redcount</span></a> <span class="id" type="var">N'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 1<br/>
&nbsp;&nbsp;| <a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <span class="id" type="var">N</span> <span class="id" type="var">N'</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Standardization.html#redcount"><span class="id" type="definition">redcount</span></a> <span class="id" type="var">N</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Standardization.html#redcount"><span class="id" type="definition">redcount</span></a> <span class="id" type="var">N'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <span class="id" type="var">N</span> ⇒ <a class="idref" href="Standardization.html#redcount"><span class="id" type="definition">redcount</span></a> <span class="id" type="var">N</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;For&nbsp;brevity&nbsp;in&nbsp;definitions&nbsp;and&nbsp;proofs,&nbsp;we&nbsp;introduce&nbsp;two&nbsp;functions&nbsp;which<br/>
&nbsp;&nbsp;&nbsp;serve&nbsp;to&nbsp;adjust&nbsp;the&nbsp;reduction&nbsp;count&nbsp;in&nbsp;case&nbsp;of&nbsp;<span class="inlinecode"><span class="id" type="var">l</span></span>eft&nbsp;or&nbsp;<span class="inlinecode"><span class="id" type="var">r</span></span>ight<br/>
&nbsp;&nbsp;&nbsp;application.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Standardization.ladjust"><span class="id" type="definition">ladjust</span></a> (<span class="id" type="var">M</span> : <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a>) (<span class="id" type="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <span class="id" type="var">_</span> ⇒ <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <span class="id" type="var">_</span> ⇒ <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 1<br/>
&nbsp;&nbsp;| <a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Standardization.radjust"><span class="id" type="definition">radjust</span></a> (<span class="id" type="var">M</span> : <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a>) (<span class="id" type="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <span class="id" type="var">_</span> ⇒ <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <span class="id" type="var">_</span> ⇒ <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 1<br/>
&nbsp;&nbsp;| <a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;This&nbsp;is&nbsp;the&nbsp;predicate&nbsp;defined&nbsp;in&nbsp;2.1.<br/>
&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" type="var">nthred</span></span> <span class="inlinecode"><span class="id" type="var">n</span></span> <span class="inlinecode"><span class="id" type="var">A</span></span> <span class="inlinecode"><span class="id" type="var">B</span></span>&nbsp;states&nbsp;that&nbsp;<span class="inlinecode"><span class="id" type="var">B</span></span>&nbsp;is&nbsp;the&nbsp;result&nbsp;of&nbsp;reducing&nbsp;the&nbsp;<span class="inlinecode"><span class="id" type="var">A</span></span>-th<br/>
&nbsp;&nbsp;&nbsp;redex&nbsp;in&nbsp;<span class="inlinecode"><span class="id" type="var">B</span></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;In&nbsp;order&nbsp;to&nbsp;simplify&nbsp;working&nbsp;with&nbsp;this&nbsp;definition,&nbsp;we&nbsp;start&nbsp;counting&nbsp;from<br/>
&nbsp;&nbsp;&nbsp;zero,&nbsp;while&nbsp;in&nbsp;the&nbsp;paper&nbsp;counting&nbsp;starts&nbsp;from&nbsp;one.<br/>
*)</span><br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="Standardization.nthred"><span class="id" type="inductive">nthred</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> → <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> → <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> → <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="Standardization.nthred_base"><span class="id" type="constructor">nthred_base</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#nthred"><span class="id" type="inductive">nthred</span></a> 0 (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a>) <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a>) (<a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> 0 <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a>)<br/>
&nbsp;&nbsp;| <a name="Standardization.nthred_concr"><span class="id" type="constructor">nthred_concr</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">n</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">C</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#nthred"><span class="id" type="inductive">nthred</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a> → <a class="idref" href="Standardization.html#nthred"><span class="id" type="inductive">nthred</span></a> (<a class="idref" href="Standardization.html#Standardization.radjust"><span class="id" type="definition">radjust</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a>) (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Standardization.html#C"><span class="id" type="variable">C</span></a>) (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Standardization.html#C"><span class="id" type="variable">C</span></a>)<br/>
&nbsp;&nbsp;| <a name="Standardization.nthred_concl"><span class="id" type="constructor">nthred_concl</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">n</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">C</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#nthred"><span class="id" type="inductive">nthred</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a> → <a class="idref" href="Standardization.html#nthred"><span class="id" type="inductive">nthred</span></a> (<a class="idref" href="Standardization.html#Standardization.ladjust"><span class="id" type="definition">ladjust</span></a> <a class="idref" href="Standardization.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a>) (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <a class="idref" href="Standardization.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a>) (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <a class="idref" href="Standardization.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a>)<br/>
&nbsp;&nbsp;| <a name="Standardization.nthred_lam"><span class="id" type="constructor">nthred_lam</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">n</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#nthred"><span class="id" type="inductive">nthred</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a> → <a class="idref" href="Standardization.html#nthred"><span class="id" type="inductive">nthred</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a>) (<a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;Some&nbsp;implications&nbsp;for&nbsp;lambda&nbsp;terms&nbsp;related&nbsp;by&nbsp;<span class="inlinecode"><span class="id" type="var">nthred</span></span>.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.nthred_outer_lam"><span class="id" type="lemma">nthred_outer_lam</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span> <span class="id" type="var">n</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.nthred"><span class="id" type="inductive">nthred</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> → (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">M'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <a class="idref" href="Standardization.html#M'"><span class="id" type="variable">M'</span></a>) → <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">N'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <a class="idref" href="Standardization.html#N'"><span class="id" type="variable">N'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> <span class="id" type="var">B</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.nthred_radjust"><span class="id" type="lemma">nthred_radjust</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span> <span class="id" type="var">n</span> <span class="id" type="var">k</span> <span class="id" type="var">l</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.nthred"><span class="id" type="inductive">nthred</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> → <a class="idref" href="Standardization.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'>='_x"><span class="id" type="notation">≥</span></a> <a class="idref" href="Standardization.html#l"><span class="id" type="variable">l</span></a> → <a class="idref" href="Standardization.html#Standardization.radjust"><span class="id" type="definition">radjust</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> <a class="idref" href="Standardization.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'>='_x"><span class="id" type="notation">≥</span></a> <a class="idref" href="Standardization.html#Standardization.radjust"><span class="id" type="definition">radjust</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#l"><span class="id" type="variable">l</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">M</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_outer_lam"><span class="id" type="lemma">nthred_outer_lam</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">∃</span> <span class="id" type="var">M</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_outer_lam"><span class="id" type="lemma">nthred_outer_lam</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">∃</span> <span class="id" type="var">M</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.nthred_redcount"><span class="id" type="lemma">nthred_redcount</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">n</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.nthred"><span class="id" type="inductive">nthred</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> → <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'>='_x"><span class="id" type="notation">≥</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">B</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">A</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">IHnthred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">try</span> (<span class="id" type="tactic">omega</span> || <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">C</span>; <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">C1</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab13"></a><h3 class="section">Definition 2.2, Beta-reduction and left-most reduction</h3>

</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;The&nbsp;paper&nbsp;defines&nbsp;beta-reduction&nbsp;in&nbsp;terms&nbsp;of&nbsp;the&nbsp;<span class="inlinecode"><span class="id" type="var">nthred</span></span>&nbsp;relation.<br/>
<br/>
&nbsp;&nbsp;&nbsp;It&nbsp;is&nbsp;easy&nbsp;to&nbsp;show&nbsp;equivalence&nbsp;of&nbsp;the&nbsp;two&nbsp;definitions&nbsp;of&nbsp;beta&nbsp;reduction,<br/>
&nbsp;&nbsp;&nbsp;see&nbsp;<span class="inlinecode"><span class="id" type="var">bet_bred</span></span>.<br/>
*)</span><br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Standardization.bet"><span class="id" type="definition">bet</span></a> (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a>) : <span class="id" type="keyword">Prop</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Standardization.html#Standardization.nthred"><span class="id" type="inductive">nthred</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" type="var">betstar</span></span>&nbsp;is&nbsp;the&nbsp;reflexive-transitive&nbsp;closure&nbsp;of&nbsp;<span class="inlinecode"><span class="id" type="var">bet</span></span>.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Standardization.betstar"><span class="id" type="definition">betstar</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Relations.Relation_Operators.html#clos_refl_trans"><span class="id" type="inductive">clos_refl_trans</span></a> <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> <a class="idref" href="Standardization.html#Standardization.bet"><span class="id" type="definition">bet</span></a>.<br/>
<span class="id" type="keyword">Definition</span> <a name="Standardization.betstar_step"><span class="id" type="definition">betstar_step</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Relations.Relation_Operators.html#rt_step"><span class="id" type="constructor">rt_step</span></a> <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> <a class="idref" href="Standardization.html#Standardization.bet"><span class="id" type="definition">bet</span></a>.<br/>
<span class="id" type="keyword">Definition</span> <a name="Standardization.betstar_refl"><span class="id" type="definition">betstar_refl</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Relations.Relation_Operators.html#rt_refl"><span class="id" type="constructor">rt_refl</span></a> <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> <a class="idref" href="Standardization.html#Standardization.bet"><span class="id" type="definition">bet</span></a>.<br/>
<span class="id" type="keyword">Definition</span> <a name="Standardization.betstar_trans"><span class="id" type="definition">betstar_trans</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Relations.Relation_Operators.html#rt_trans"><span class="id" type="constructor">rt_trans</span></a> <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> <a class="idref" href="Standardization.html#Standardization.bet"><span class="id" type="definition">bet</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;prove&nbsp;equivalence&nbsp;of&nbsp;our&nbsp;definition&nbsp;of&nbsp;beta&nbsp;reduction&nbsp;with&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;regular&nbsp;definition&nbsp;from&nbsp;<span class="inlinecode"><span class="id" type="var">Beta</span></span>.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.bet_bred"><span class="id" type="lemma">bet_bred</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span>, <a class="idref" href="Standardization.html#Standardization.bet"><span class="id" type="definition">bet</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">↔</span></a> <a class="idref" href="Beta.html#Beta.bred"><span class="id" type="inductive">bred</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;bet&nbsp;A&nbsp;B&nbsp;-&gt;&nbsp;bred&nbsp;A&nbsp;B&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">Hbet</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.bet"><span class="id" type="definition">bet</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Hbet</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Hbet</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Beta.html#Beta.bred_base"><span class="id" type="constructor">bred_base</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Beta.html#Beta.bred_appl"><span class="id" type="constructor">bred_appl</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHnthred</span>. <span class="id" type="tactic">∃</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Beta.html#Beta.bred_appr"><span class="id" type="constructor">bred_appr</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHnthred</span>. <span class="id" type="tactic">∃</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Beta.html#Beta.bred_lam"><span class="id" type="constructor">bred_lam</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHnthred</span>. <span class="id" type="tactic">∃</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;bred&nbsp;A&nbsp;B&nbsp;-&gt;&nbsp;bet&nbsp;A&nbsp;B&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">Hbred</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">Hbred</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.bet"><span class="id" type="definition">bet</span></a>. <span class="id" type="tactic">∃</span> 0. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_base"><span class="id" type="constructor">nthred_base</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.bet"><span class="id" type="definition">bet</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">IHHbred</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_lam"><span class="id" type="constructor">nthred_lam</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.bet"><span class="id" type="definition">bet</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">IHHbred</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<a class="idref" href="Standardization.html#Standardization.radjust"><span class="id" type="definition">radjust</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">x</span>). <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_concr"><span class="id" type="constructor">nthred_concr</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.bet"><span class="id" type="definition">bet</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">IHHbred</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<a class="idref" href="Standardization.html#Standardization.ladjust"><span class="id" type="definition">ladjust</span></a> <span class="id" type="var">t3</span> <span class="id" type="var">x</span>). <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_concl"><span class="id" type="constructor">nthred_concl</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Left-most&nbsp;reduction&nbsp;is&nbsp;simply&nbsp;reduction&nbsp;of&nbsp;the&nbsp;first&nbsp;redex.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Standardization.lmost"><span class="id" type="definition">lmost</span></a> (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a>) : <span class="id" type="keyword">Prop</span> := <a class="idref" href="Standardization.html#Standardization.nthred"><span class="id" type="inductive">nthred</span></a> 0 <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" type="var">lstar</span></span>&nbsp;is&nbsp;the&nbsp;reflexive-transitive&nbsp;closure&nbsp;of&nbsp;<span class="inlinecode"><span class="id" type="var">lmost</span></span>.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Standardization.lstar"><span class="id" type="definition">lstar</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Relations.Relation_Operators.html#clos_refl_trans"><span class="id" type="inductive">clos_refl_trans</span></a> <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> <a class="idref" href="Standardization.html#Standardization.lmost"><span class="id" type="definition">lmost</span></a>.<br/>
<span class="id" type="keyword">Definition</span> <a name="Standardization.lstar_step"><span class="id" type="definition">lstar_step</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Relations.Relation_Operators.html#rt_step"><span class="id" type="constructor">rt_step</span></a> <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> <a class="idref" href="Standardization.html#Standardization.lmost"><span class="id" type="definition">lmost</span></a>.<br/>
<span class="id" type="keyword">Definition</span> <a name="Standardization.lstar_refl"><span class="id" type="definition">lstar_refl</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Relations.Relation_Operators.html#rt_refl"><span class="id" type="constructor">rt_refl</span></a> <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> <a class="idref" href="Standardization.html#Standardization.lmost"><span class="id" type="definition">lmost</span></a>.<br/>
<span class="id" type="keyword">Definition</span> <a name="Standardization.lstar_trans"><span class="id" type="definition">lstar_trans</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Relations.Relation_Operators.html#rt_trans"><span class="id" type="constructor">rt_trans</span></a> <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> <a class="idref" href="Standardization.html#Standardization.lmost"><span class="id" type="definition">lmost</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab14"></a><h3 class="section">Definition 2.3, Standard Reduction Sequence</h3>

<div class="paragraph"> </div>

<a name="lab15"></a><h4 class="section">Preliminaries</h4>

</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;A&nbsp;lambda&nbsp;sequence,&nbsp;<span class="inlinecode"><span class="id" type="var">seq</span></span>,&nbsp;is&nbsp;a&nbsp;lambda&nbsp;term&nbsp;or&nbsp;a&nbsp;lambda&nbsp;sequence&nbsp;together<br/>
&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;number&nbsp;and&nbsp;a&nbsp;lambda&nbsp;term.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="Standardization.seq"><span class="id" type="inductive">seq</span></a> : <span class="id" type="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a name="Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> : <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> → <a class="idref" href="Standardization.html#seq"><span class="id" type="inductive">seq</span></a><br/>
&nbsp;&nbsp;| <a name="Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> : <a class="idref" href="Standardization.html#seq"><span class="id" type="inductive">seq</span></a> → <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> → <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> → <a class="idref" href="Standardization.html#seq"><span class="id" type="inductive">seq</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" type="var">seqhead</span></span>&nbsp;gives&nbsp;the&nbsp;leftmost&nbsp;(first)&nbsp;lambda&nbsp;term&nbsp;in&nbsp;a&nbsp;lambda&nbsp;sequence.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> (<span class="id" type="var">s</span> : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a>) : <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <span class="id" type="var">A</span> ⇒ <span class="id" type="var">A</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <span class="id" type="var">s</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="Standardization.html#seqhead"><span class="id" type="definition">seqhead</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" type="var">seqlast</span></span>&nbsp;gives&nbsp;the&nbsp;rightmost&nbsp;(last)&nbsp;lambda&nbsp;term&nbsp;in&nbsp;a&nbsp;lambda&nbsp;sequence.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> (<span class="id" type="var">s</span> : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a>) : <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <span class="id" type="var">B</span> ⇒ <span class="id" type="var">B</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">B</span> ⇒ <span class="id" type="var">B</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Any&nbsp;lambda&nbsp;sequence&nbsp;<span class="inlinecode"><span class="id" type="var">s</span></span>&nbsp;can&nbsp;be&nbsp;extended&nbsp;to&nbsp;the&nbsp;left&nbsp;by&nbsp;providing&nbsp;a&nbsp;number<br/>
&nbsp;&nbsp;&nbsp;and&nbsp;a&nbsp;lambda&nbsp;term&nbsp;to&nbsp;be&nbsp;prepended&nbsp;to&nbsp;the&nbsp;first&nbsp;term.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Standardization.leftexpand"><span class="id" type="definition">leftexpand</span></a> (<span class="id" type="var">M</span> : <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a>) (<span class="id" type="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">s</span> : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a>) : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <span class="id" type="var">B</span> ⇒ <a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> (<a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>) <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <span class="id" type="var">B</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <span class="id" type="var">s'</span> <span class="id" type="var">m</span> <span class="id" type="var">N</span> ⇒ <a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> (<a class="idref" href="Standardization.html#leftexpand"><span class="id" type="definition">leftexpand</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <span class="id" type="var">s'</span>) <span class="id" type="var">m</span> <span class="id" type="var">N</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Extract&nbsp;the&nbsp;head&nbsp;reduction&nbsp;count&nbsp;from&nbsp;a&nbsp;sequence.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<span class="id" type="var">s</span>: <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <span class="id" type="var">A</span> ⇒ 0<br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <span class="id" type="var">_</span> <span class="id" type="var">n</span> <span class="id" type="var">_</span> ⇒ <span class="id" type="var">n</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Extract&nbsp;the&nbsp;last&nbsp;reduction&nbsp;count&nbsp;from&nbsp;a&nbsp;sequence.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Standardization.seqnrev"><span class="id" type="definition">seqnrev</span></a> (<span class="id" type="var">s</span>: <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <span class="id" type="var">A</span> ⇒ 0<br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> (<a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <span class="id" type="var">M</span>) <span class="id" type="var">n</span> <span class="id" type="var">N</span> ⇒ <span class="id" type="var">n</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <span class="id" type="var">s'</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="Standardization.html#seqnrev"><span class="id" type="definition">seqnrev</span></a> <span class="id" type="var">s'</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" type="var">seqcat</span></span>&nbsp;is&nbsp;concatenation&nbsp;for&nbsp;lambda&nbsp;sequences,&nbsp;requiring&nbsp;a&nbsp;natural&nbsp;number<br/>
&nbsp;&nbsp;&nbsp;as&nbsp;a&nbsp;``connective''&nbsp;in&nbsp;addition&nbsp;to&nbsp;two&nbsp;lambda&nbsp;sequences.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Standardization.seqcat"><span class="id" type="definition">seqcat</span></a> (<span class="id" type="var">s1</span> : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a>) (<span class="id" type="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">s2</span> : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a>) : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <span class="id" type="var">B</span> ⇒ <a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <span class="id" type="var">B</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <span class="id" type="var">s2'</span> <span class="id" type="var">m</span> <span class="id" type="var">B</span> ⇒ <a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> (<a class="idref" href="Standardization.html#seqcat"><span class="id" type="definition">seqcat</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <span class="id" type="var">s2'</span>) <span class="id" type="var">m</span> <span class="id" type="var">B</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;A&nbsp;simple&nbsp;result&nbsp;about&nbsp;sequence&nbsp;concatenation:&nbsp;Concatenating&nbsp;a&nbsp;simplex<br/>
&nbsp;&nbsp;&nbsp;sequence&nbsp;<span class="inlinecode"><span class="id" type="var">s1</span></span>&nbsp;with&nbsp;any&nbsp;sequence&nbsp;<span class="inlinecode"><span class="id" type="var">s2</span></span>&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;doing&nbsp;a&nbsp;left&nbsp;expansion<br/>
&nbsp;&nbsp;&nbsp;with&nbsp;<span class="inlinecode"><span class="id" type="var">s1</span></span>'s&nbsp;constituent&nbsp;lambda&nbsp;term.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.seqcat_leftexpand"><span class="id" type="lemma">seqcat_leftexpand</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">n</span> <span class="id" type="var">s</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.seqcat"><span class="id" type="definition">seqcat</span></a> (<a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>) <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.leftexpand"><span class="id" type="definition">leftexpand</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHs</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.seqlast_seqcat"><span class="id" type="lemma">seqlast_seqcat</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s1</span> <span class="id" type="var">s2</span> <span class="id" type="var">n</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> (<a class="idref" href="Standardization.html#Standardization.seqcat"><span class="id" type="definition">seqcat</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a>.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s1</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">s2</span>; <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.seqn_seqcat"><span class="id" type="lemma">seqn_seqcat</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s1</span> <span class="id" type="var">n</span> <span class="id" type="var">s2</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.seqcat"><span class="id" type="definition">seqcat</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">∨</span></a> <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.seqcat"><span class="id" type="definition">seqcat</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">s1</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">s2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Interaction&nbsp;of&nbsp;left&nbsp;expansion&nbsp;with&nbsp;extractors&nbsp;for&nbsp;first&nbsp;and&nbsp;last&nbsp;sequence<br/>
&nbsp;&nbsp;&nbsp;members.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.leftexpand_seqhead"><span class="id" type="lemma">leftexpand_seqhead</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">n</span> <span class="id" type="var">s</span>, <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> (<a class="idref" href="Standardization.html#Standardization.leftexpand"><span class="id" type="definition">leftexpand</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.leftexpand_seqlast"><span class="id" type="lemma">leftexpand_seqlast</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">n</span> <span class="id" type="var">s</span>, <a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> (<a class="idref" href="Standardization.html#Standardization.leftexpand"><span class="id" type="definition">leftexpand</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Interaction&nbsp;of&nbsp;left&nbsp;expansion&nbsp;with&nbsp;reduction&nbsp;count&nbsp;extraction.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.leftexpand_bound"><span class="id" type="lemma">leftexpand_bound</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">s</span>, <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.leftexpand"><span class="id" type="definition">leftexpand</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> 0 <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;A&nbsp;reduction&nbsp;sequence,&nbsp;<span class="inlinecode"><span class="id" type="var">redseq</span></span>,&nbsp;is&nbsp;a&nbsp;lambda&nbsp;sequence&nbsp;<span class="inlinecode"><span class="id" type="var">s</span></span>&nbsp;in&nbsp;which&nbsp;for&nbsp;every<br/>
&nbsp;&nbsp;&nbsp;cons&nbsp;cell&nbsp;consisting&nbsp;of&nbsp;<span class="inlinecode"><span class="id" type="var">s'</span></span>,&nbsp;<span class="inlinecode"><span class="id" type="var">n</span></span>&nbsp;and&nbsp;<span class="inlinecode"><span class="id" type="var">M</span></span>,&nbsp;the&nbsp;last&nbsp;term&nbsp;<span class="inlinecode"><span class="id" type="var">L</span></span>&nbsp;of&nbsp;<span class="inlinecode"><span class="id" type="var">s'</span></span>&nbsp;yields<br/>
&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" type="var">M</span></span>&nbsp;by&nbsp;reducing&nbsp;its&nbsp;<span class="inlinecode"><span class="id" type="var">n</span></span>-th&nbsp;redex,&nbsp;i.e.&nbsp;<span class="inlinecode"><span class="id" type="var">nthred</span></span> <span class="inlinecode"><span class="id" type="var">n</span></span> <span class="inlinecode"><span class="id" type="var">L</span></span> <span class="inlinecode"><span class="id" type="var">M</span></span>.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="Standardization.redseq"><span class="id" type="inductive">redseq</span></a> : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a> → <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="Standardization.redseq_unit"><span class="id" type="constructor">redseq_unit</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">A</span>, <a class="idref" href="Standardization.html#redseq"><span class="id" type="inductive">redseq</span></a> (<a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a>)<br/>
&nbsp;&nbsp;| <a name="Standardization.redseq_cons"><span class="id" type="constructor">redseq_cons</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> <span class="id" type="var">n</span> <span class="id" type="var">A</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.nthred"><span class="id" type="inductive">nthred</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> (<a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#redseq"><span class="id" type="inductive">redseq</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#redseq"><span class="id" type="inductive">redseq</span></a> (<a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.redseq_seqcat"><span class="id" type="lemma">redseq_seqcat</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s1</span> <span class="id" type="var">s2</span> <span class="id" type="var">n</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.nthred"><span class="id" type="inductive">nthred</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> (<a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a>) (<a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a>) →<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.redseq"><span class="id" type="inductive">redseq</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a> → <a class="idref" href="Standardization.html#Standardization.redseq"><span class="id" type="inductive">redseq</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a> → <a class="idref" href="Standardization.html#Standardization.redseq"><span class="id" type="inductive">redseq</span></a> (<a class="idref" href="Standardization.html#Standardization.seqcat"><span class="id" type="definition">seqcat</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">induction</span> <span class="id" type="var">s1</span>; <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">induction</span> <span class="id" type="var">s2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_cons"><span class="id" type="constructor">redseq_cons</span></a>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_cons"><span class="id" type="constructor">redseq_cons</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqlast_seqcat"><span class="id" type="lemma">seqlast_seqcat</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHs2</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_cons"><span class="id" type="constructor">redseq_cons</span></a>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_cons"><span class="id" type="constructor">redseq_cons</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqlast_seqcat"><span class="id" type="lemma">seqlast_seqcat</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">IHs2</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHs2</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;A&nbsp;monotone&nbsp;sequence,&nbsp;<span class="inlinecode"><span class="id" type="var">monotone</span></span>,&nbsp;is&nbsp;a&nbsp;lambda&nbsp;sequence&nbsp;<span class="inlinecode"><span class="id" type="var">s</span></span>&nbsp;in&nbsp;which&nbsp;connective<br/>
&nbsp;&nbsp;&nbsp;numbers&nbsp;increase&nbsp;non-strictly&nbsp;from&nbsp;left&nbsp;to&nbsp;right.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="Standardization.monotone"><span class="id" type="inductive">monotone</span></a> : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a> → <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="Standardization.monotone_unit"><span class="id" type="constructor">monotone_unit</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">A</span>, <a class="idref" href="Standardization.html#monotone"><span class="id" type="inductive">monotone</span></a> (<a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a>)<br/>
&nbsp;&nbsp;| <a name="Standardization.monotone_cons"><span class="id" type="constructor">monotone_cons</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">n</span> <span class="id" type="var">A</span> <span class="id" type="var">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#monotone"><span class="id" type="inductive">monotone</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'>='_x"><span class="id" type="notation">≥</span></a> <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">M</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#monotone"><span class="id" type="inductive">monotone</span></a> (<a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;Monotonicity&nbsp;and&nbsp;left-expansion&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.monotone_seqn"><span class="id" type="lemma">monotone_seqn</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> <span class="id" type="var">n</span> <span class="id" type="var">M</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.monotone"><span class="id" type="inductive">monotone</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> → <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.leftexpand"><span class="id" type="definition">leftexpand</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">N</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_unit&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">∃</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_cons&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H6</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.leftexpand_monotone"><span class="id" type="lemma">leftexpand_monotone</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">s</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.monotone"><span class="id" type="inductive">monotone</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> → <a class="idref" href="Standardization.html#Standardization.monotone"><span class="id" type="inductive">monotone</span></a> (<a class="idref" href="Standardization.html#Standardization.leftexpand"><span class="id" type="definition">leftexpand</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> 0 <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_unit&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_cons"><span class="id" type="constructor">monotone_cons</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_unit"><span class="id" type="constructor">monotone_unit</span></a>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_cons&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_cons"><span class="id" type="constructor">monotone_cons</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.leftexpand"><span class="id" type="definition">leftexpand</span></a> <span class="id" type="var">M</span> 0 <span class="id" type="var">s</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> <span class="id" type="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">N</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_seqn"><span class="id" type="lemma">monotone_seqn</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H6</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H7</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H8</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.leftexpand_bound"><span class="id" type="lemma">leftexpand_bound</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H6</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H8</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab16"></a><h4 class="section">Standard reduction sequence</h4>

</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;A&nbsp;standard&nbsp;reduction&nbsp;sequence,&nbsp;<span class="inlinecode"><span class="id" type="var">stseq</span></span>,&nbsp;is&nbsp;a&nbsp;lambda&nbsp;sequence&nbsp;<span class="inlinecode"><span class="id" type="var">s</span></span>&nbsp;which&nbsp;is&nbsp;a<br/>
&nbsp;&nbsp;&nbsp;monotone&nbsp;reduction&nbsp;sequence.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Standardization.stseq"><span class="id" type="definition">stseq</span></a> (<span class="id" type="var">s</span> : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a>) : <span class="id" type="keyword">Prop</span> := <a class="idref" href="Standardization.html#Standardization.redseq"><span class="id" type="inductive">redseq</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="Standardization.html#Standardization.monotone"><span class="id" type="inductive">monotone</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;A&nbsp;reusable&nbsp;proof&nbsp;of&nbsp;the&nbsp;simple&nbsp;fact&nbsp;that&nbsp;subsequences&nbsp;of&nbsp;standard&nbsp;reduction<br/>
&nbsp;&nbsp;&nbsp;sequences&nbsp;are&nbsp;standard&nbsp;reduction&nbsp;sequences.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.stseq_backwards"><span class="id" type="lemma">stseq_backwards</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">n</span> <span class="id" type="var">s</span>, <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> (<a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>) → <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.stseq_leftexpand"><span class="id" type="lemma">stseq_leftexpand</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">s</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> → <a class="idref" href="Standardization.html#Standardization.lmost"><span class="id" type="definition">lmost</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> (<a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) → <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> (<a class="idref" href="Standardization.html#Standardization.leftexpand"><span class="id" type="definition">leftexpand</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> 0 <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">M</span> <span class="id" type="var">s</span> <span class="id" type="var">Hstseq</span> <span class="id" type="var">Hlmost</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_cons"><span class="id" type="constructor">redseq_cons</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.lmost"><span class="id" type="definition">lmost</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Hlmost</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Hlmost</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_unit"><span class="id" type="constructor">redseq_unit</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">Hstseq</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_cons"><span class="id" type="constructor">monotone_cons</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_unit"><span class="id" type="constructor">monotone_unit</span></a>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_cons"><span class="id" type="constructor">redseq_cons</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.lmost"><span class="id" type="definition">lmost</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Hlmost</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.leftexpand_seqlast"><span class="id" type="lemma">leftexpand_seqlast</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Hstseq</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Hstseq</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="Standardization.html#Standardization.stseq_backwards"><span class="id" type="lemma">stseq_backwards</span></a> <span class="id" type="var">l</span> <span class="id" type="var">n</span> <span class="id" type="var">s</span>). <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Hlmost</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_cons"><span class="id" type="constructor">monotone_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.leftexpand_monotone"><span class="id" type="lemma">leftexpand_monotone</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Hstseq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_backwards"><span class="id" type="lemma">stseq_backwards</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Hstseq</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Hstseq</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Hstseq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Hstseq</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.leftexpand_bound"><span class="id" type="lemma">leftexpand_bound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H6</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H7</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.redcount_seqn"><span class="id" type="lemma">redcount_seqn</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> → <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> (<a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'>='_x"><span class="id" type="notation">≥</span></a> <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">Hstseq</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Hstseq</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_redcount"><span class="id" type="lemma">nthred_redcount</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">M</span> := <a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <span class="id" type="var">s</span>). <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;This&nbsp;lemma&nbsp;helps&nbsp;concisely&nbsp;eliminating&nbsp;the&nbsp;common&nbsp;goal&nbsp;of&nbsp;a&nbsp;one-term<br/>
&nbsp;&nbsp;&nbsp;reduction&nbsp;sequence&nbsp;being&nbsp;standard.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.stseq_unit"><span class="id" type="lemma">stseq_unit</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span>, <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> (<a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>).<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a>. <span class="id" type="tactic">split</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_unit"><span class="id" type="constructor">redseq_unit</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_unit"><span class="id" type="constructor">monotone_unit</span></a>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab17"></a><h4 class="section">A range of respectful operations on reduction sequences.</h4>

</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;Applying&nbsp;each&nbsp;member&nbsp;of&nbsp;a&nbsp;sequence&nbsp;<span class="inlinecode"><span class="id" type="var">s</span></span>&nbsp;to&nbsp;a&nbsp;lambda&nbsp;term&nbsp;<span class="inlinecode"><span class="id" type="var">M</span></span>.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Standardization.appl"><span class="id" type="definition">appl</span></a> (<span class="id" type="var">M</span> : <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a>) (<span class="id" type="var">s</span> : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a>) : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <span class="id" type="var">A</span> ⇒ <a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <span class="id" type="var">A</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <span class="id" type="var">s</span> <span class="id" type="var">n</span> <span class="id" type="var">B</span> ⇒ <a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> (<a class="idref" href="Standardization.html#appl"><span class="id" type="definition">appl</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) (<a class="idref" href="Standardization.html#Standardization.ladjust"><span class="id" type="definition">ladjust</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <span class="id" type="var">n</span>) (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <span class="id" type="var">B</span>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.seqhead_appl"><span class="id" type="lemma">seqhead_appl</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> <span class="id" type="var">M</span>, <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> (<a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">M</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">M</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.seqlast_appl"><span class="id" type="lemma">seqlast_appl</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> <span class="id" type="var">M</span>, <a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> (<a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>).<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">M</span>; <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.seqn_appl_var"><span class="id" type="lemma">seqn_appl_var</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> <span class="id" type="var">x</span>, <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <a class="idref" href="Standardization.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">omega</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.seqn_appl_lam"><span class="id" type="lemma">seqn_appl_lam</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> <span class="id" type="var">M</span>, <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'>='_x"><span class="id" type="notation">≥</span></a> <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>) <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>).<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">M</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">omega</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.seqn_appl_app"><span class="id" type="lemma">seqn_appl_app</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> <span class="id" type="var">M</span> <span class="id" type="var">M'</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#M'"><span class="id" type="variable">M'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'>='_x"><span class="id" type="notation">≥</span></a> <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#M'"><span class="id" type="variable">M'</span></a>) <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>).<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">M</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">M'</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">omega</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.redseq_appl"><span class="id" type="lemma">redseq_appl</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> <span class="id" type="var">M</span>, <a class="idref" href="Standardization.html#Standardization.redseq"><span class="id" type="inductive">redseq</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> → <a class="idref" href="Standardization.html#Standardization.redseq"><span class="id" type="inductive">redseq</span></a> (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_unit&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">M</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_unit"><span class="id" type="constructor">redseq_unit</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_cons&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">M</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a>; <span class="id" type="tactic">fold</span> <a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a>; <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_cons"><span class="id" type="constructor">redseq_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Var&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqlast_appl"><span class="id" type="lemma">seqlast_appl</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_concl"><span class="id" type="constructor">nthred_concl</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Lam&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqlast_appl"><span class="id" type="lemma">seqlast_appl</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_concl"><span class="id" type="constructor">nthred_concl</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;App&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqlast_appl"><span class="id" type="lemma">seqlast_appl</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_concl"><span class="id" type="constructor">nthred_concl</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.monotone_appl"><span class="id" type="lemma">monotone_appl</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> <span class="id" type="var">M</span>, <a class="idref" href="Standardization.html#Standardization.monotone"><span class="id" type="inductive">monotone</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> → <a class="idref" href="Standardization.html#Standardization.monotone"><span class="id" type="inductive">monotone</span></a> (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_unit"><span class="id" type="constructor">monotone_unit</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_unit"><span class="id" type="constructor">monotone_unit</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_unit"><span class="id" type="constructor">monotone_unit</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_cons"><span class="id" type="constructor">monotone_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqn_appl_var"><span class="id" type="lemma">seqn_appl_var</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H6</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_cons"><span class="id" type="constructor">monotone_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assert</span> (<a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> <span class="id" type="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> <span class="id" type="var">M</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'>='_x"><span class="id" type="notation">≥</span></a> <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <span class="id" type="var">M</span>) <span class="id" type="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.seqn_appl_lam"><span class="id" type="lemma">seqn_appl_lam</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H6</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H7</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_cons"><span class="id" type="constructor">monotone_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">fold</span> <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a>. <span class="id" type="var">case_eq</span> (<span class="id" type="var">M1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Var&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">E</span>: <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <span class="id" type="var">n0</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> <span class="id" type="var">M2</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <span class="id" type="var">n0</span>) <span class="id" type="var">M2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">E</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> <span class="id" type="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <span class="id" type="var">n0</span>) <span class="id" type="var">M2</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'>='_x"><span class="id" type="notation">≥</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <span class="id" type="var">n0</span>) <span class="id" type="var">M2</span>) <span class="id" type="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.seqn_appl_app"><span class="id" type="lemma">seqn_appl_app</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H7</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H8</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Lam&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">E</span>: <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> <span class="id" type="var">l0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> <span class="id" type="var">M2</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <span class="id" type="var">l0</span>) <span class="id" type="var">M2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">E</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> <span class="id" type="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <span class="id" type="var">l0</span>) <span class="id" type="var">M2</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'>='_x"><span class="id" type="notation">≥</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <span class="id" type="var">l0</span>) <span class="id" type="var">M2</span>) <span class="id" type="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.seqn_appl_app"><span class="id" type="lemma">seqn_appl_app</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H7</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H8</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;App&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">E</span>: <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <span class="id" type="var">l0</span> <span class="id" type="var">l1</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> <span class="id" type="var">M2</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <span class="id" type="var">l0</span> <span class="id" type="var">l1</span>) <span class="id" type="var">M2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">E</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> <span class="id" type="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <span class="id" type="var">l0</span> <span class="id" type="var">l1</span>) <span class="id" type="var">M2</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'>='_x"><span class="id" type="notation">≥</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <span class="id" type="var">l0</span> <span class="id" type="var">l1</span>) <span class="id" type="var">M2</span>) <span class="id" type="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.seqn_appl_app"><span class="id" type="lemma">seqn_appl_app</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H7</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H8</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.stseq_appl"><span class="id" type="lemma">stseq_appl</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> <span class="id" type="var">M</span>, <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> → <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a>. <span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_appl"><span class="id" type="lemma">redseq_appl</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_appl"><span class="id" type="lemma">monotone_appl</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Applying&nbsp;a&nbsp;lambda&nbsp;term&nbsp;<span class="inlinecode"><span class="id" type="var">M</span></span>&nbsp;to&nbsp;every&nbsp;member&nbsp;of&nbsp;a&nbsp;sequence&nbsp;<span class="inlinecode"><span class="id" type="var">s</span></span>.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Standardization.appr"><span class="id" type="definition">appr</span></a> (<span class="id" type="var">M</span> : <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a>) (<span class="id" type="var">s</span> : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a>) : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <span class="id" type="var">A</span> ⇒ <a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <span class="id" type="var">A</span> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <span class="id" type="var">s</span> <span class="id" type="var">n</span> <span class="id" type="var">B</span> ⇒ <a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> (<a class="idref" href="Standardization.html#appr"><span class="id" type="definition">appr</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) (<a class="idref" href="Standardization.html#Standardization.radjust"><span class="id" type="definition">radjust</span></a> (<a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) <span class="id" type="var">n</span>) (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <span class="id" type="var">B</span> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.seqhead_appr"><span class="id" type="lemma">seqhead_appr</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> <span class="id" type="var">M</span>, <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> (<a class="idref" href="Standardization.html#Standardization.appr"><span class="id" type="definition">appr</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> (<a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">M</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">M</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.seqlast_appr"><span class="id" type="lemma">seqlast_appr</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> <span class="id" type="var">M</span>, <a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> (<a class="idref" href="Standardization.html#Standardization.appr"><span class="id" type="definition">appr</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> (<a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">M</span>; <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.appr_cons"><span class="id" type="lemma">appr_cons</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> <span class="id" type="var">n</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.appr"><span class="id" type="definition">appr</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> (<a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> (<a class="idref" href="Standardization.html#Standardization.appr"><span class="id" type="definition">appr</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) (<a class="idref" href="Standardization.html#Standardization.radjust"><span class="id" type="definition">radjust</span></a> (<a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a>) (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a>).<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.redseq_appr"><span class="id" type="lemma">redseq_appr</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> <span class="id" type="var">M</span>, <a class="idref" href="Standardization.html#Standardization.redseq"><span class="id" type="inductive">redseq</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> → <a class="idref" href="Standardization.html#Standardization.redseq"><span class="id" type="inductive">redseq</span></a> (<a class="idref" href="Standardization.html#Standardization.appr"><span class="id" type="definition">appr</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_unit&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">M</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_unit"><span class="id" type="constructor">redseq_unit</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_cons&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">M</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.appr"><span class="id" type="definition">appr</span></a>; <span class="id" type="tactic">fold</span> <a class="idref" href="Standardization.html#Standardization.appr"><span class="id" type="definition">appr</span></a>; <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_cons"><span class="id" type="constructor">redseq_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Var&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqlast_appr"><span class="id" type="lemma">seqlast_appr</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_concr"><span class="id" type="constructor">nthred_concr</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Lam&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqlast_appr"><span class="id" type="lemma">seqlast_appr</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_concr"><span class="id" type="constructor">nthred_concr</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;App&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqlast_appr"><span class="id" type="lemma">seqlast_appr</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_concr"><span class="id" type="constructor">nthred_concr</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.monotone_appr"><span class="id" type="lemma">monotone_appr</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> <span class="id" type="var">M</span>, <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> → <a class="idref" href="Standardization.html#Standardization.monotone"><span class="id" type="inductive">monotone</span></a> (<a class="idref" href="Standardization.html#Standardization.appr"><span class="id" type="definition">appr</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_unit&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">M</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_unit"><span class="id" type="constructor">monotone_unit</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_cons&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_cons"><span class="id" type="constructor">monotone_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_backwards"><span class="id" type="lemma">stseq_backwards</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">l0</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">left</span>; <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.appr_cons"><span class="id" type="lemma">appr_cons</span></a>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_radjust"><span class="id" type="lemma">nthred_radjust</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">n</span> := <span class="id" type="var">n0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H16</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H16</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H17</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H18</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.stseq_appr"><span class="id" type="lemma">stseq_appr</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> <span class="id" type="var">M</span>, <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> → <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> (<a class="idref" href="Standardization.html#Standardization.appr"><span class="id" type="definition">appr</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a>. <span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_appr"><span class="id" type="lemma">redseq_appr</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_appr"><span class="id" type="lemma">monotone_appr</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Wrap&nbsp;all&nbsp;members&nbsp;of&nbsp;a&nbsp;reduction&nbsp;sequence&nbsp;in&nbsp;lambdas.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="Standardization.lambdize"><span class="id" type="definition">lambdize</span></a> (<span class="id" type="var">s</span> : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a>) : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <span class="id" type="var">A</span> ⇒ <a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <span class="id" type="var">A</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <span class="id" type="var">s</span> <span class="id" type="var">n</span> <span class="id" type="var">B</span> ⇒ <a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> (<a class="idref" href="Standardization.html#lambdize"><span class="id" type="definition">lambdize</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) <span class="id" type="var">n</span> (<a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <span class="id" type="var">B</span>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;prove&nbsp;results&nbsp;for&nbsp;some&nbsp;simple&nbsp;interactions&nbsp;of&nbsp;<span class="inlinecode"><span class="id" type="var">lambdize</span></span>&nbsp;with&nbsp;sequence<br/>
&nbsp;&nbsp;&nbsp;operations.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.seqhead_lambdize"><span class="id" type="lemma">seqhead_lambdize</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span>, <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> (<a class="idref" href="Standardization.html#Standardization.lambdize"><span class="id" type="definition">lambdize</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> (<a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>).<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.seqlast_lambdize"><span class="id" type="lemma">seqlast_lambdize</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span>, <a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> (<a class="idref" href="Standardization.html#Standardization.lambdize"><span class="id" type="definition">lambdize</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> (<a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>).<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>; <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.seqn_lambdize"><span class="id" type="lemma">seqn_lambdize</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span>, <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.lambdize"><span class="id" type="definition">lambdize</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>; <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;establish&nbsp;that&nbsp;standard&nbsp;sequences&nbsp;are&nbsp;stable&nbsp;wrt&nbsp;<span class="inlinecode"><span class="id" type="var">lambdize</span></span>.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.stseq_lambdize"><span class="id" type="lemma">stseq_lambdize</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span>, <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> → <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> (<a class="idref" href="Standardization.html#Standardization.lambdize"><span class="id" type="definition">lambdize</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_unit&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_unit"><span class="id" type="lemma">stseq_unit</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_cons&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_cons"><span class="id" type="constructor">redseq_cons</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqlast_lambdize"><span class="id" type="lemma">seqlast_lambdize</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_lam"><span class="id" type="constructor">nthred_lam</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_backwards"><span class="id" type="lemma">stseq_backwards</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_cons"><span class="id" type="constructor">monotone_cons</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_backwards"><span class="id" type="lemma">stseq_backwards</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqn_lambdize"><span class="id" type="lemma">seqn_lambdize</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H7</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H8</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.stseq_lambda"><span class="id" type="lemma">stseq_lambda</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span>,<br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">s</span> : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>) →<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">s</span> : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_unit&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <span class="id" type="var">l</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_unit"><span class="id" type="lemma">stseq_unit</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_cons&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<a class="idref" href="Standardization.html#Standardization.lambdize"><span class="id" type="definition">lambdize</span></a> <span class="id" type="var">x0</span>). <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqhead_lambdize"><span class="id" type="lemma">seqhead_lambdize</span></a>. <span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqlast_lambdize"><span class="id" type="lemma">seqlast_lambdize</span></a>. <span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_lambdize"><span class="id" type="lemma">stseq_lambdize</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;``Zip''&nbsp;two&nbsp;lambda&nbsp;sequences.<br/>
<br/>
&nbsp;&nbsp;&nbsp;Beta&nbsp;reduction&nbsp;sequences&nbsp;s1&nbsp;=&nbsp;A&nbsp;-&gt;&gt;&nbsp;B,&nbsp;s2&nbsp;=&nbsp;C&nbsp;-&gt;&gt;&nbsp;D&nbsp;will&nbsp;be&nbsp;zipped&nbsp;to&nbsp;a<br/>
&nbsp;&nbsp;&nbsp;sequence&nbsp;A&nbsp;C&nbsp;-&gt;&gt;&nbsp;...&nbsp;-&gt;&gt;&nbsp;B&nbsp;C&nbsp;-&gt;&gt;&nbsp;...&nbsp;-&gt;&gt;&nbsp;B&nbsp;D,&nbsp;with&nbsp;reduction&nbsp;counts&nbsp;adapted<br/>
&nbsp;&nbsp;&nbsp;to&nbsp;maintain&nbsp;reduction&nbsp;and&nbsp;monotonocity&nbsp;properties.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="Standardization.zip"><span class="id" type="definition">zip</span></a> (<span class="id" type="var">s1</span> : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a>) (<span class="id" type="var">s2</span> : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a>) : <a class="idref" href="Standardization.html#Standardization.seq"><span class="id" type="inductive">seq</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a>, <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <span class="id" type="var">M</span>, <span class="id" type="var">_</span> ⇒ <a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> <span class="id" type="var">M</span> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <span class="id" type="var">s1'</span> <span class="id" type="var">m</span> <span class="id" type="var">M</span>, <span class="id" type="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.seqcat"><span class="id" type="definition">seqcat</span></a> (<a class="idref" href="Standardization.html#Standardization.appr"><span class="id" type="definition">appr</span></a> (<a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a>) <span class="id" type="var">s1'</span>) (<a class="idref" href="Standardization.html#Standardization.radjust"><span class="id" type="definition">radjust</span></a> (<a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <span class="id" type="var">s1'</span>) <span class="id" type="var">m</span>) (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> <span class="id" type="var">M</span> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;establish&nbsp;that&nbsp;zipping&nbsp;preserves&nbsp;reduction&nbsp;sequences.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.monotone_seqcat"><span class="id" type="lemma">monotone_seqcat</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s1</span> <span class="id" type="var">s2</span> <span class="id" type="var">n</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.nthred"><span class="id" type="inductive">nthred</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> (<a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a>) (<a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a>) →<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'<='_x"><span class="id" type="notation">≤</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'<='_x"><span class="id" type="notation">≤</span></a> <a class="idref" href="Standardization.html#Standardization.seqnrev"><span class="id" type="definition">seqnrev</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">M</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">)</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a> → <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a> → <a class="idref" href="Standardization.html#Standardization.monotone"><span class="id" type="inductive">monotone</span></a> (<a class="idref" href="Standardization.html#Standardization.seqcat"><span class="id" type="definition">seqcat</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">s1</span> <span class="id" type="var">s2</span> <span class="id" type="var">n</span> <span class="id" type="var">Hnth</span> <span class="id" type="var">Hbetw</span> <span class="id" type="var">Hs1</span> <span class="id" type="var">Hs2</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Hs1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Hs2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">induction</span> <span class="id" type="var">s1</span>; <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">induction</span> <span class="id" type="var">s2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_cons"><span class="id" type="constructor">monotone_cons</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_unit"><span class="id" type="constructor">monotone_unit</span></a>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_unit&nbsp;x&nbsp;seq_cons&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_cons"><span class="id" type="constructor">monotone_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Hnth</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">∃</span> <span class="id" type="var">l1</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">Hbetw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.seqnrev"><span class="id" type="definition">seqnrev</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">fold</span> <a class="idref" href="Standardization.html#Standardization.seqnrev"><span class="id" type="definition">seqnrev</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_backwards"><span class="id" type="lemma">stseq_backwards</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Hs2</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">Hbetw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">s2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H10</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H11</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_cons&nbsp;x&nbsp;seq_unit&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_cons"><span class="id" type="constructor">monotone_cons</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Hbetw</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_cons&nbsp;x&nbsp;seq_cons&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_cons"><span class="id" type="constructor">monotone_cons</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Hnth</span>. <span class="id" type="tactic">fold</span> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Hnth</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">Hbetw</span>. <span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">s2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">∃</span> <span class="id" type="var">l1</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.seqnrev"><span class="id" type="definition">seqnrev</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">fold</span> <a class="idref" href="Standardization.html#Standardization.seqnrev"><span class="id" type="definition">seqnrev</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.seqnrev"><span class="id" type="definition">seqnrev</span></a>. <span class="id" type="tactic">fold</span> <a class="idref" href="Standardization.html#Standardization.seqnrev"><span class="id" type="definition">seqnrev</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_backwards"><span class="id" type="lemma">stseq_backwards</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Hs2</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Hbetw</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H10</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H11</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H6</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.redseq_zip"><span class="id" type="lemma">redseq_zip</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s1</span> <span class="id" type="var">s2</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.redseq"><span class="id" type="inductive">redseq</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a> → <a class="idref" href="Standardization.html#Standardization.redseq"><span class="id" type="inductive">redseq</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a> → <a class="idref" href="Standardization.html#Standardization.redseq"><span class="id" type="inductive">redseq</span></a> (<a class="idref" href="Standardization.html#Standardization.zip"><span class="id" type="definition">zip</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s1</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">s2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_unit&nbsp;x&nbsp;seq_unit&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">l0</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_unit"><span class="id" type="constructor">redseq_unit</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_unit&nbsp;x&nbsp;seq_cons&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">l0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.zip"><span class="id" type="definition">zip</span></a>; <span class="id" type="tactic">fold</span> <a class="idref" href="Standardization.html#Standardization.zip"><span class="id" type="definition">zip</span></a>; <span class="id" type="tactic">fold</span> <a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a>; <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_cons"><span class="id" type="constructor">redseq_cons</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">first</span> [<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqlast_appl"><span class="id" type="lemma">seqlast_appl</span></a>; <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_concl"><span class="id" type="constructor">nthred_concl</span></a>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">assumption</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_appl"><span class="id" type="lemma">redseq_appl</span></a>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_cons&nbsp;x&nbsp;seq_unit&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">l0</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_cons"><span class="id" type="constructor">redseq_cons</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">first</span> [<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqlast_appr"><span class="id" type="lemma">seqlast_appr</span></a>; <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_concr"><span class="id" type="constructor">nthred_concr</span></a>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">assumption</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_appr"><span class="id" type="lemma">redseq_appr</span></a>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_cons&nbsp;x&nbsp;seq_cons&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_cons"><span class="id" type="constructor">redseq_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqlast_seqcat"><span class="id" type="lemma">seqlast_seqcat</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqlast_appl"><span class="id" type="lemma">seqlast_appl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_concl"><span class="id" type="constructor">nthred_concl</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_seqcat"><span class="id" type="lemma">redseq_seqcat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqlast_appr"><span class="id" type="lemma">seqlast_appr</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqhead_appl"><span class="id" type="lemma">seqhead_appl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_concr"><span class="id" type="constructor">nthred_concr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_appr"><span class="id" type="lemma">redseq_appr</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_appl"><span class="id" type="lemma">redseq_appl</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.monotone_connectives"><span class="id" type="lemma">monotone_connectives</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s1</span> <span class="id" type="var">s2</span> <span class="id" type="var">m</span> <span class="id" type="var">n</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.monotone"><span class="id" type="inductive">monotone</span></a> (<a class="idref" href="Standardization.html#Standardization.zip"><span class="id" type="definition">zip</span></a> (<a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a> <a class="idref" href="Standardization.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>) (<a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a>)) →<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.radjust"><span class="id" type="definition">radjust</span></a> (<a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a>) <a class="idref" href="Standardization.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'<='_x"><span class="id" type="notation">≤</span></a> <a class="idref" href="Standardization.html#Standardization.seqnrev"><span class="id" type="definition">seqnrev</span></a> (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> (<a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a>)).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">induction</span> <span class="id" type="var">s2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H10</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">IHs2</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHs2</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.monotone_zip"><span class="id" type="lemma">monotone_zip</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s1</span> <span class="id" type="var">s2</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a> → <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a> → <a class="idref" href="Standardization.html#Standardization.monotone"><span class="id" type="inductive">monotone</span></a> (<a class="idref" href="Standardization.html#Standardization.zip"><span class="id" type="definition">zip</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">s1</span> <span class="id" type="var">s2</span> <span class="id" type="var">Hs1</span> <span class="id" type="var">Hs2</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Hs1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Hs2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">induction</span> <span class="id" type="var">s1</span>; <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">induction</span> <span class="id" type="var">s2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_unit&nbsp;x&nbsp;seq_unit&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">l0</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_unit"><span class="id" type="constructor">monotone_unit</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_unit&nbsp;x&nbsp;seq_cons&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_cons"><span class="id" type="constructor">monotone_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_appl"><span class="id" type="lemma">monotone_appl</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">try</span> (<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqn_appl_var"><span class="id" type="lemma">seqn_appl_var</span></a> ||<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqn_appl_lam"><span class="id" type="lemma">seqn_appl_lam</span></a> ||<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqn_appl_app"><span class="id" type="lemma">seqn_appl_app</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;); <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H8</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H9</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> <span class="id" type="var">s2</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> <span class="id" type="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'>='_x"><span class="id" type="notation">≥</span></a> <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <span class="id" type="var">l</span>) <span class="id" type="var">s2</span>)) <span class="id" type="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.seqn_appl_lam"><span class="id" type="lemma">seqn_appl_lam</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H9</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H10</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.ladjust"><span class="id" type="definition">ladjust</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> <span class="id" type="var">s2</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'>='_x"><span class="id" type="notation">≥</span></a> <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span>) <span class="id" type="var">s2</span>)) <span class="id" type="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.seqn_appl_app"><span class="id" type="lemma">seqn_appl_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H9</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H10</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_cons&nbsp;x&nbsp;seq_unit&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_cons"><span class="id" type="constructor">monotone_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_appr"><span class="id" type="lemma">monotone_appr</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_backwards"><span class="id" type="lemma">stseq_backwards</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Hs1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.appr_cons"><span class="id" type="lemma">appr_cons</span></a>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H17</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_radjust"><span class="id" type="lemma">nthred_radjust</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">n</span> := <span class="id" type="var">n0</span>). <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H17</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H18</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H19</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_cons&nbsp;x&nbsp;seq_cons&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_cons"><span class="id" type="constructor">monotone_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;predecessor&nbsp;sequence&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_seqcat"><span class="id" type="lemma">monotone_seqcat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqlast_appr"><span class="id" type="lemma">seqlast_appr</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqhead_appl"><span class="id" type="lemma">seqhead_appl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_concr"><span class="id" type="constructor">nthred_concr</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Hs1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Hs1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_radjust"><span class="id" type="lemma">nthred_radjust</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">n</span> := <span class="id" type="var">n1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H19</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H19</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H20</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H21</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_appl"><span class="id" type="lemma">stseq_appl</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">M</span> := <span class="id" type="var">l</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">Hs1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Hs1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s2</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">∃</span> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <span class="id" type="var">l</span> <span class="id" type="var">l1</span>). <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_connectives"><span class="id" type="lemma">monotone_connectives</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_backwards"><span class="id" type="lemma">stseq_backwards</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Hs2</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_appr"><span class="id" type="lemma">stseq_appr</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_backwards"><span class="id" type="lemma">stseq_backwards</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Hs1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_appl"><span class="id" type="lemma">stseq_appl</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_backwards"><span class="id" type="lemma">stseq_backwards</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Hs2</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;inbetween-ness&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> (<a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> (<a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <span class="id" type="var">s1</span> <span class="id" type="var">n</span> <span class="id" type="var">l</span>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'>='_x"><span class="id" type="notation">≥</span></a> <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <span class="id" type="var">s1</span> <span class="id" type="var">n</span> <span class="id" type="var">l</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redcount_seqn"><span class="id" type="lemma">redcount_seqn</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">Hor</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.seqcat"><span class="id" type="definition">seqcat</span></a> (<a class="idref" href="Standardization.html#Standardization.appr"><span class="id" type="definition">appr</span></a> (<a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <span class="id" type="var">s2</span>) <span class="id" type="var">s1</span>) (<a class="idref" href="Standardization.html#Standardization.radjust"><span class="id" type="definition">radjust</span></a> (<a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <span class="id" type="var">s1</span>) <span class="id" type="var">n</span>) (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> <span class="id" type="var">l</span> <span class="id" type="var">s2</span>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.radjust"><span class="id" type="definition">radjust</span></a> (<a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <span class="id" type="var">s1</span>) <span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.seqcat"><span class="id" type="definition">seqcat</span></a> (<a class="idref" href="Standardization.html#Standardization.appr"><span class="id" type="definition">appr</span></a> (<a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <span class="id" type="var">s2</span>) <span class="id" type="var">s1</span>) (<a class="idref" href="Standardization.html#Standardization.radjust"><span class="id" type="definition">radjust</span></a> (<a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <span class="id" type="var">s1</span>) <span class="id" type="var">n</span>) (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> <span class="id" type="var">l</span> <span class="id" type="var">s2</span>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> <span class="id" type="var">l</span> <span class="id" type="var">s2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.seqn_seqcat"><span class="id" type="lemma">seqn_seqcat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">Hor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;left&nbsp;Hor&nbsp;branch&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H9</span>. <span class="id" type="var">case_eq</span> (<span class="id" type="var">l</span>); <span class="id" type="var">case_eq</span> (<a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <span class="id" type="var">s1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;l&nbsp;is&nbsp;Var&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H11</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H10</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H14</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H11</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H14</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H14</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H11</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;l&nbsp;is&nbsp;Lam&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">HLam</span>: <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> <span class="id" type="var">l1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> <span class="id" type="var">l</span>) <span class="id" type="tactic">by</span> (<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H11</span>; <span class="id" type="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">HLam</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">HLam</span>: <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> <span class="id" type="var">l2</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> <span class="id" type="var">l</span>) <span class="id" type="tactic">by</span> (<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H11</span>; <span class="id" type="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">HLam</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">HLam</span>: <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> <span class="id" type="var">l3</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> <span class="id" type="var">l</span>) <span class="id" type="tactic">by</span> (<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H11</span>; <span class="id" type="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">HLam</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;l&nbsp;is&nbsp;App&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.ladjust"><span class="id" type="definition">ladjust</span></a>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H11</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.radjust"><span class="id" type="definition">radjust</span></a>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H10</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H14</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H11</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H14</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H14</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.ladjust"><span class="id" type="definition">ladjust</span></a>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H11</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.radjust"><span class="id" type="definition">radjust</span></a>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;right&nbsp;Hor&nbsp;branch&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H9</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;l&nbsp;is&nbsp;Var&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.seqn_appl_var"><span class="id" type="lemma">seqn_appl_var</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H14</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H15</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H16</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;l&nbsp;is&nbsp;Lam&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> <span class="id" type="var">s2</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> <span class="id" type="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'>='_x"><span class="id" type="notation">≥</span></a> <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <span class="id" type="var">l</span>) <span class="id" type="var">s2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">by</span> (<span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.seqn_appl_lam"><span class="id" type="lemma">seqn_appl_lam</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H15</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H16</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H17</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;l&nbsp;is&nbsp;App&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.ladjust"><span class="id" type="definition">ladjust</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> <span class="id" type="var">s2</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="Standardization.html#Standardization.redcount"><span class="id" type="definition">redcount</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'>='_x"><span class="id" type="notation">≥</span></a> <a class="idref" href="Standardization.html#Standardization.seqn"><span class="id" type="definition">seqn</span></a> (<a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span>) <span class="id" type="var">s2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">by</span> <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.seqn_appl_app"><span class="id" type="lemma">seqn_appl_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H15</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H16</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H17</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">omega</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.zip_appr"><span class="id" type="lemma">zip_appr</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> <span class="id" type="var">M</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.zip"><span class="id" type="definition">zip</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.appr"><span class="id" type="definition">appr</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">M</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.zip_appl"><span class="id" type="lemma">zip_appl</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> <span class="id" type="var">M</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.zip"><span class="id" type="definition">zip</span></a> (<a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>) <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.appl"><span class="id" type="definition">appl</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">M</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.zip_seqhead_right"><span class="id" type="lemma">zip_seqhead_right</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s</span> <span class="id" type="var">s'</span> <span class="id" type="var">n</span> <span class="id" type="var">M</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> (<a class="idref" href="Standardization.html#Standardization.zip"><span class="id" type="definition">zip</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="Standardization.html#Standardization.seq_cons"><span class="id" type="constructor">seq_cons</span></a> <a class="idref" href="Standardization.html#s'"><span class="id" type="variable">s'</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> (<a class="idref" href="Standardization.html#Standardization.zip"><span class="id" type="definition">zip</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="Standardization.html#s'"><span class="id" type="variable">s'</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">s'</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">M</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.zip_seqhead"><span class="id" type="lemma">zip_seqhead</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s1</span> <span class="id" type="var">s2</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> (<a class="idref" href="Standardization.html#Standardization.zip"><span class="id" type="definition">zip</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> (<a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a>) (<a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s1</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">s2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_unit&nbsp;x&nbsp;seq_unit&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">l0</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_unit&nbsp;x&nbsp;seq_cons&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">l0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a>; <span class="id" type="tactic">fold</span> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">IHs2</span>; <span class="id" type="tactic">fold</span> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">IHs2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">IHs2</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_cons&nbsp;x&nbsp;seq_unit&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">l0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a>; <span class="id" type="tactic">fold</span> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">IHs1</span>; <span class="id" type="tactic">fold</span> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">IHs1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">IHs1</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.zip_appr"><span class="id" type="lemma">zip_appr</span></a>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;seq_cons&nbsp;x&nbsp;seq_cons&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a>. <span class="id" type="tactic">fold</span> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">IHs1</span>. <span class="id" type="tactic">fold</span> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">IHs1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">IHs2</span>. <span class="id" type="tactic">fold</span> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">IHs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="Standardization.html#Standardization.zip_seqhead_right"><span class="id" type="lemma">zip_seqhead_right</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">IHs1</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHs2</span> <span class="id" type="keyword">in</span> <span class="id" type="var">IHs1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="Standardization.html#Standardization.zip_seqhead_right"><span class="id" type="lemma">zip_seqhead_right</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">n</span> := <span class="id" type="var">n0</span>) (<span class="id" type="var">M</span> := <span class="id" type="var">l0</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">IHs1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.zip_seqlast"><span class="id" type="lemma">zip_seqlast</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s1</span> <span class="id" type="var">s2</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> (<a class="idref" href="Standardization.html#Standardization.zip"><span class="id" type="definition">zip</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> (<a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a>) (<a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s1</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">s2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">l0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a>; <span class="id" type="tactic">fold</span> <a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;This&nbsp;is&nbsp;the&nbsp;useful&nbsp;lemma&nbsp;about&nbsp;zipping&nbsp;standard&nbsp;reduction&nbsp;sequences.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.zip_stseq"><span class="id" type="lemma">zip_stseq</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">s1</span> <span class="id" type="var">s2</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a> → <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a> → <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> (<a class="idref" href="Standardization.html#Standardization.zip"><span class="id" type="definition">zip</span></a> <a class="idref" href="Standardization.html#s1"><span class="id" type="variable">s1</span></a> <a class="idref" href="Standardization.html#s2"><span class="id" type="variable">s2</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a>. <span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.redseq_zip"><span class="id" type="lemma">redseq_zip</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.monotone_zip"><span class="id" type="lemma">monotone_zip</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab18"></a><h2 class="section">Proof of the standardization theorem</h2>

<div class="paragraph"> </div>

<a name="lab19"></a><h3 class="section">Definition 3.1, Head-reduction in application</h3>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="Standardization.hap'"><span class="id" type="inductive">hap'</span></a> : <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> → <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> → <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="Standardization.hap'_hred"><span class="id" type="constructor">hap'_hred</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span>, <a class="idref" href="Standardization.html#hap'"><span class="id" type="inductive">hap'</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a>) <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a>) (<a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> 0 <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a>)<br/>
&nbsp;&nbsp;| <a name="Standardization.hap'_hreds"><span class="id" type="constructor">hap'_hreds</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">C</span>, <a class="idref" href="Standardization.html#hap'"><span class="id" type="inductive">hap'</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a> → <a class="idref" href="Standardization.html#hap'"><span class="id" type="inductive">hap'</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Standardization.html#C"><span class="id" type="variable">C</span></a>) (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Standardization.html#C"><span class="id" type="variable">C</span></a>).<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="Standardization.hap"><span class="id" type="inductive">hap</span></a> : <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> → <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> → <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="Standardization.hap_refl"><span class="id" type="constructor">hap_refl</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">A</span>, <a class="idref" href="Standardization.html#hap"><span class="id" type="inductive">hap</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a><br/>
&nbsp;&nbsp;| <a name="Standardization.hap_hred"><span class="id" type="constructor">hap_hred</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span>, <a class="idref" href="Standardization.html#Standardization.hap'"><span class="id" type="inductive">hap'</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a> → <a class="idref" href="Standardization.html#hap"><span class="id" type="inductive">hap</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a><br/>
&nbsp;&nbsp;| <a name="Standardization.hap_trans"><span class="id" type="constructor">hap_trans</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">C</span>, <a class="idref" href="Standardization.html#hap"><span class="id" type="inductive">hap</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a> → <a class="idref" href="Standardization.html#hap"><span class="id" type="inductive">hap</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Standardization.html#C"><span class="id" type="variable">C</span></a> → <a class="idref" href="Standardization.html#hap"><span class="id" type="inductive">hap</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Standardization.html#C"><span class="id" type="variable">C</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab20"></a><h3 class="section">Definition 3.2, Standard reduction</h3>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="Standardization.st"><span class="id" type="inductive">st</span></a> : <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> → <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> → <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="Standardization.st_hap"><span class="id" type="constructor">st_hap</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">L</span> <span class="id" type="var">x</span>, <a class="idref" href="Standardization.html#Standardization.hap"><span class="id" type="inductive">hap</span></a> <a class="idref" href="Standardization.html#L"><span class="id" type="variable">L</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <a class="idref" href="Standardization.html#x"><span class="id" type="variable">x</span></a>) → <a class="idref" href="Standardization.html#st"><span class="id" type="inductive">st</span></a> <a class="idref" href="Standardization.html#L"><span class="id" type="variable">L</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <a class="idref" href="Standardization.html#x"><span class="id" type="variable">x</span></a>)<br/>
&nbsp;&nbsp;| <a name="Standardization.st_hap_st_st"><span class="id" type="constructor">st_hap_st_st</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">L</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">C</span> <span class="id" type="var">D</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.hap"><span class="id" type="inductive">hap</span></a> <a class="idref" href="Standardization.html#L"><span class="id" type="variable">L</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a>) → <a class="idref" href="Standardization.html#st"><span class="id" type="inductive">st</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Standardization.html#C"><span class="id" type="variable">C</span></a> → <a class="idref" href="Standardization.html#st"><span class="id" type="inductive">st</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Standardization.html#D"><span class="id" type="variable">D</span></a> → <a class="idref" href="Standardization.html#st"><span class="id" type="inductive">st</span></a> <a class="idref" href="Standardization.html#L"><span class="id" type="variable">L</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <a class="idref" href="Standardization.html#C"><span class="id" type="variable">C</span></a> <a class="idref" href="Standardization.html#D"><span class="id" type="variable">D</span></a>)<br/>
&nbsp;&nbsp;| <a name="Standardization.st_haplam_st"><span class="id" type="constructor">st_haplam_st</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">L</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.hap"><span class="id" type="inductive">hap</span></a> <a class="idref" href="Standardization.html#L"><span class="id" type="variable">L</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a>) → <a class="idref" href="Standardization.html#st"><span class="id" type="inductive">st</span></a> <a class="idref" href="Standardization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a> → <a class="idref" href="Standardization.html#st"><span class="id" type="inductive">st</span></a> <a class="idref" href="Standardization.html#L"><span class="id" type="variable">L</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <a class="idref" href="Standardization.html#B"><span class="id" type="variable">B</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab21"></a><h3 class="section">Lemma 3.3</h3>

<div class="paragraph"> </div>

<a name="lab22"></a><h4 class="section">(1)</h4>

</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="Standardization.hap_lstar"><span class="id" type="lemma">hap_lstar</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span>, <a class="idref" href="Standardization.html#Standardization.hap"><span class="id" type="inductive">hap</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> → <a class="idref" href="Standardization.html#Standardization.lstar"><span class="id" type="definition">lstar</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [ <span class="id" type="var">M</span> | <span class="id" type="var">M</span> <span class="id" type="var">N</span> | <span class="id" type="var">M</span> <span class="id" type="var">N</span> <span class="id" type="var">P</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;hap_refl&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.lstar_refl"><span class="id" type="definition">lstar_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;hap_hred&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.lstar_step"><span class="id" type="definition">lstar_step</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.lmost"><span class="id" type="definition">lmost</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_base"><span class="id" type="constructor">nthred_base</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">Hadj</span>: 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#Standardization.radjust"><span class="id" type="definition">radjust</span></a> <span class="id" type="var">A</span> 0). <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">Hadj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.nthred_concr"><span class="id" type="constructor">nthred_concr</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;hap_trans&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.lstar_trans"><span class="id" type="definition">lstar_trans</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">y</span> := <span class="id" type="var">N</span>). <span class="id" type="tactic">apply</span> <span class="id" type="var">IHhap1</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHhap2</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab23"></a><h4 class="section">(2)</h4>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.st_stseq"><span class="id" type="lemma">st_stseq</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span>, <a class="idref" href="Standardization.html#Standardization.st"><span class="id" type="inductive">st</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span> <span class="id" type="var">Hst</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">Hst</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;st_hap&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_lstar"><span class="id" type="lemma">hap_lstar</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.lstar"><span class="id" type="definition">lstar</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Relations.Operators_Properties.html#clos_refl_trans_ind_right"><span class="id" type="lemma">Operators_Properties.clos_refl_trans_ind_right</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">with</span> (<span class="id" type="var">A</span> := <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a>) (<span class="id" type="var">R</span> := <a class="idref" href="Standardization.html#Standardization.lmost"><span class="id" type="definition">lmost</span></a>) (<span class="id" type="var">x</span> := <span class="id" type="var">L</span>) (<span class="id" type="var">z</span> := (<a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <span class="id" type="var">x</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<a class="idref" href="Standardization.html#Standardization.seq_unit"><span class="id" type="constructor">seq_unit</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <span class="id" type="var">x</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_unit"><span class="id" type="lemma">stseq_unit</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H7</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<a class="idref" href="Standardization.html#Standardization.leftexpand"><span class="id" type="definition">leftexpand</span></a> <span class="id" type="var">x0</span> 0 <span class="id" type="var">x1</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.leftexpand_seqhead"><span class="id" type="lemma">leftexpand_seqhead</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H6</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.leftexpand_seqlast"><span class="id" type="lemma">leftexpand_seqlast</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_leftexpand"><span class="id" type="lemma">stseq_leftexpand</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;st_hap_st_st&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_lstar"><span class="id" type="lemma">hap_lstar</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.lstar"><span class="id" type="definition">lstar</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Relations.Operators_Properties.html#clos_refl_trans_ind_right"><span class="id" type="lemma">Operators_Properties.clos_refl_trans_ind_right</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">with</span> (<span class="id" type="var">A</span> := <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a>) (<span class="id" type="var">R</span> := <a class="idref" href="Standardization.html#Standardization.lmost"><span class="id" type="definition">lmost</span></a>) (<span class="id" type="var">x</span> := <span class="id" type="var">L</span>) (<span class="id" type="var">z</span> := (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <span class="id" type="var">A</span> <span class="id" type="var">B</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">IHHst1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">IHHst2</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<a class="idref" href="Standardization.html#Standardization.zip"><span class="id" type="definition">zip</span></a> <span class="id" type="var">x</span> <span class="id" type="var">x0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H6</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.zip_seqhead"><span class="id" type="lemma">zip_seqhead</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H3</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H8</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.zip_seqlast"><span class="id" type="lemma">zip_seqlast</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.zip_stseq"><span class="id" type="lemma">zip_stseq</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;refl&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<a class="idref" href="Standardization.html#Standardization.leftexpand"><span class="id" type="definition">leftexpand</span></a> <span class="id" type="var">x</span> 0 <span class="id" type="var">x0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.leftexpand_seqhead"><span class="id" type="lemma">leftexpand_seqhead</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H6</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.leftexpand_seqlast"><span class="id" type="lemma">leftexpand_seqlast</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_leftexpand"><span class="id" type="lemma">stseq_leftexpand</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;trans&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;st_haplam_st&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_lstar"><span class="id" type="lemma">hap_lstar</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.lstar"><span class="id" type="definition">lstar</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Relations.Operators_Properties.html#clos_refl_trans_ind_right"><span class="id" type="lemma">Operators_Properties.clos_refl_trans_ind_right</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">with</span> (<span class="id" type="var">A</span> := <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a>) (<span class="id" type="var">R</span> := <a class="idref" href="Standardization.html#Standardization.lmost"><span class="id" type="definition">lmost</span></a>) (<span class="id" type="var">x</span> := <span class="id" type="var">L</span>) (<span class="id" type="var">z</span> := (<a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <span class="id" type="var">A</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_lambda"><span class="id" type="lemma">stseq_lambda</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;refl&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<a class="idref" href="Standardization.html#Standardization.leftexpand"><span class="id" type="definition">leftexpand</span></a> <span class="id" type="var">x</span> 0 <span class="id" type="var">x0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.leftexpand_seqhead"><span class="id" type="lemma">leftexpand_seqhead</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H6</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.leftexpand_seqlast"><span class="id" type="lemma">leftexpand_seqlast</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.stseq_leftexpand"><span class="id" type="lemma">stseq_leftexpand</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;trans&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab24"></a><h3 class="section">Lemma 3.4</h3>

<div class="paragraph"> </div>

<a name="lab25"></a><h4 class="section">(1)</h4>

</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="Standardization.st_refl"><span class="id" type="lemma">st_refl</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span>, <a class="idref" href="Standardization.html#Standardization.st"><span class="id" type="inductive">st</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_hap"><span class="id" type="constructor">st_hap</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_refl"><span class="id" type="constructor">hap_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_haplam_st"><span class="id" type="constructor">st_haplam_st</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">A</span> := <span class="id" type="var">M</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_refl"><span class="id" type="constructor">hap_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_hap_st_st"><span class="id" type="constructor">st_hap_st_st</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">A</span> := <span class="id" type="var">M1</span>) (<span class="id" type="var">B</span> := <span class="id" type="var">M2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_refl"><span class="id" type="constructor">hap_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab26"></a><h4 class="section">(2)</h4>

</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="Standardization.hap__app_hap"><span class="id" type="lemma">hap__app_hap</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span> <span class="id" type="var">P</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.hap"><span class="id" type="inductive">hap</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> → <a class="idref" href="Standardization.html#Standardization.hap"><span class="id" type="inductive">hap</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#P"><span class="id" type="variable">P</span></a>) (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> <a class="idref" href="Standardization.html#P"><span class="id" type="variable">P</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_refl"><span class="id" type="constructor">hap_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_hred"><span class="id" type="constructor">hap_hred</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap'_hreds"><span class="id" type="constructor">hap'_hreds</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_trans"><span class="id" type="constructor">hap_trans</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">B</span> := <a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <span class="id" type="var">B</span> <span class="id" type="var">P</span>); <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab27"></a><h4 class="section">(3)</h4>

</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="Standardization.hap_st__st"><span class="id" type="lemma">hap_st__st</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">L</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.hap"><span class="id" type="inductive">hap</span></a> <a class="idref" href="Standardization.html#L"><span class="id" type="variable">L</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> → <a class="idref" href="Standardization.html#Standardization.st"><span class="id" type="inductive">st</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> → <a class="idref" href="Standardization.html#Standardization.st"><span class="id" type="inductive">st</span></a> <a class="idref" href="Standardization.html#L"><span class="id" type="variable">L</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_hap"><span class="id" type="constructor">st_hap</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_trans"><span class="id" type="constructor">hap_trans</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">B</span> := <span class="id" type="var">L0</span>); <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_hap_st_st"><span class="id" type="constructor">st_hap_st_st</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">A</span> := <span class="id" type="var">A</span>) (<span class="id" type="var">B</span> := <span class="id" type="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_trans"><span class="id" type="constructor">hap_trans</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">B</span> := <span class="id" type="var">L0</span>); <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_haplam_st"><span class="id" type="constructor">st_haplam_st</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">A</span> := <span class="id" type="var">A</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_trans"><span class="id" type="constructor">hap_trans</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">B</span> := <span class="id" type="var">L0</span>); <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab28"></a><h4 class="section">(4)</h4>

</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;We&nbsp;first&nbsp;prove&nbsp;<span class="inlinecode"><span class="id" type="var">subst_hap'</span></span>,&nbsp;after&nbsp;which&nbsp;the&nbsp;actual&nbsp;lemma&nbsp;is&nbsp;easy&nbsp;to&nbsp;show.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.subst_hap'"><span class="id" type="lemma">subst_hap'</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span> <span class="id" type="var">P</span>, <span class="id" type="keyword">∀</span> <span class="id" type="var">n</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.hap'"><span class="id" type="inductive">hap'</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> → <a class="idref" href="Standardization.html#Standardization.hap'"><span class="id" type="inductive">hap'</span></a> (<a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>) (<a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;hap'_hred&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">EXP</span>: <a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> <span class="id" type="var">n</span> <span class="id" type="var">P</span> (<a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> 0 <span class="id" type="var">B</span> <span class="id" type="var">A</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> 0 (<a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> <span class="id" type="var">n</span> <span class="id" type="var">P</span> <span class="id" type="var">B</span>) (<a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> (<span class="id" type="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a>1) <span class="id" type="var">P</span> <span class="id" type="var">A</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">assert</span> (<span class="id" type="var">T1</span>: <a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> <span class="id" type="var">n</span> <span class="id" type="var">P</span> <span class="id" type="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a> 0) <span class="id" type="var">P</span> <span class="id" type="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">T2</span>: <span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a> 0). <span class="id" type="tactic">omega</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">T2</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">T1</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Subst.html#subst_lemma"><span class="id" type="lemma">subst_lemma</span></a>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">EXP</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap'_hred"><span class="id" type="constructor">hap'_hred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;hap'_hreds&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap'_hreds"><span class="id" type="constructor">hap'_hreds</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHhap'</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.hap__hap_subst"><span class="id" type="lemma">hap__hap_subst</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span> <span class="id" type="var">P</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.hap"><span class="id" type="inductive">hap</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> → <span class="id" type="keyword">∀</span> <span class="id" type="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>, <a class="idref" href="Standardization.html#Standardization.hap"><span class="id" type="inductive">hap</span></a> (<a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>) (<a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span> <span class="id" type="var">P</span> <span class="id" type="var">H</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_refl"><span class="id" type="constructor">hap_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_hred"><span class="id" type="constructor">hap_hred</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.subst_hap'"><span class="id" type="lemma">subst_hap'</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_trans"><span class="id" type="constructor">hap_trans</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">B</span> := <a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> <span class="id" type="var">n</span> <span class="id" type="var">P</span> <span class="id" type="var">B</span>); <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;need&nbsp;to&nbsp;do&nbsp;quite&nbsp;a&nbsp;bit&nbsp;of&nbsp;busywork&nbsp;for&nbsp;(5).&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;First,&nbsp;lift-independence&nbsp;of&nbsp;<span class="inlinecode"><span class="id" type="var">hap</span></span>,&nbsp;which&nbsp;is&nbsp;easy.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.lift_hap'"><span class="id" type="lemma">lift_hap'</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.hap'"><span class="id" type="inductive">hap'</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> → <span class="id" type="keyword">∀</span> <span class="id" type="var">n</span> <span class="id" type="var">k</span>, <a class="idref" href="Standardization.html#Standardization.hap'"><span class="id" type="inductive">hap'</span></a> (<a class="idref" href="Subst.html#lift"><span class="id" type="definition">lift</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>) (<a class="idref" href="Subst.html#lift"><span class="id" type="definition">lift</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;hap'_hred&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span> <span class="id" type="var">k</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="Subst.html#lift_distr_subst"><span class="id" type="lemma">lift_distr_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">replace</span> (<span class="id" type="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a> 0) <span class="id" type="keyword">with</span> <span class="id" type="var">k</span> <span class="id" type="tactic">by</span> <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap'_hred"><span class="id" type="constructor">hap'_hred</span></a>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;hap'_hreds&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span> <span class="id" type="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="Subst.html#lift_app"><span class="id" type="lemma">lift_app</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="Subst.html#lift_app"><span class="id" type="lemma">lift_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap'_hreds"><span class="id" type="constructor">hap'_hreds</span></a>. <span class="id" type="tactic">apply</span> (<span class="id" type="var">IHhap'</span> <span class="id" type="var">n</span>).<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.lift_hap"><span class="id" type="lemma">lift_hap</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.hap"><span class="id" type="inductive">hap</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> → <span class="id" type="keyword">∀</span> <span class="id" type="var">n</span> <span class="id" type="var">k</span>, <a class="idref" href="Standardization.html#Standardization.hap"><span class="id" type="inductive">hap</span></a> (<a class="idref" href="Subst.html#lift"><span class="id" type="definition">lift</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>) (<a class="idref" href="Subst.html#lift"><span class="id" type="definition">lift</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;hap_refl&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_refl"><span class="id" type="constructor">hap_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;hap_hreds&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_hred"><span class="id" type="constructor">hap_hred</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.lift_hap'"><span class="id" type="lemma">lift_hap'</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;hap_trans&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_trans"><span class="id" type="constructor">hap_trans</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">B</span> := <a class="idref" href="Subst.html#lift"><span class="id" type="definition">lift</span></a> <span class="id" type="var">n</span> <span class="id" type="var">k</span> <span class="id" type="var">B</span>); <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Second,&nbsp;lift-independence&nbsp;for&nbsp;<span class="inlinecode"><span class="id" type="var">st</span></span>,&nbsp;which&nbsp;is&nbsp;more&nbsp;intricate.&nbsp;*)</span><br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.subst_to_var"><span class="id" type="lemma">subst_to_var</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span> <span class="id" type="var">i</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> 0 <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <a class="idref" href="Standardization.html#i"><span class="id" type="variable">i</span></a> → <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <a class="idref" href="Standardization.html#i"><span class="id" type="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">∨</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> (<a class="idref" href="Standardization.html#i"><span class="id" type="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 1).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Var&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="var">case_eq</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Arith.Compare_dec.html#nat_compare"><span class="id" type="definition">Compare_dec.nat_compare</span></a> <span class="id" type="var">n</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Eq&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">nEQ0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">nEQ0</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Arith.Compare_dec.html#nat_compare_eq_iff"><span class="id" type="lemma">Compare_dec.nat_compare_eq_iff</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">nEQ0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Subst.html#lift_0_ident"><span class="id" type="lemma">lift_0_ident</span></a> <span class="id" type="var">N</span> 0). <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Lt&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">nLT0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Arith.Compare_dec.html#nat_compare_lt"><span class="id" type="lemma">Compare_dec.nat_compare_lt</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">nLT0</span>. <span class="id" type="var">contradict</span> <span class="id" type="var">nLT0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Gt&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">nGT0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">nGT0</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Arith.Compare_dec.html#nat_compare_gt"><span class="id" type="lemma">Compare_dec.nat_compare_gt</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">nGT0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Arith.Plus.html#plus_comm"><span class="id" type="lemma">Plus.plus_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Arith.Minus.html#le_plus_minus"><span class="id" type="lemma">Minus.le_plus_minus</span></a>. <span class="id" type="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Lam&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;App&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.subst_indist"><span class="id" type="lemma">subst_indist</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">i</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#i"><span class="id" type="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'>'_x"><span class="id" type="notation">&gt;</span></a> 0 → <a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> 0 <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <a class="idref" href="Standardization.html#i"><span class="id" type="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> 0 <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <a class="idref" href="Standardization.html#i"><span class="id" type="variable">i</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Arith.Compare_dec.html#nat_compare_gt"><span class="id" type="lemma">Compare_dec.nat_compare_gt</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.lift_first_hap"><span class="id" type="lemma">lift_first_hap</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">n</span> <span class="id" type="var">i</span> <span class="id" type="var">k</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.hap"><span class="id" type="inductive">hap</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <a class="idref" href="Standardization.html#i"><span class="id" type="variable">i</span></a>) → <a class="idref" href="Standardization.html#i"><span class="id" type="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'<'_x"><span class="id" type="notation">&lt;</span></a> <a class="idref" href="Standardization.html#k"><span class="id" type="variable">k</span></a> → <a class="idref" href="Standardization.html#Standardization.hap"><span class="id" type="inductive">hap</span></a> (<a class="idref" href="Subst.html#lift"><span class="id" type="definition">lift</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>) (<a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <a class="idref" href="Standardization.html#i"><span class="id" type="variable">i</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">M</span> <span class="id" type="var">n</span> <span class="id" type="var">i</span> <span class="id" type="var">k</span> <span class="id" type="var">H</span> <span class="id" type="var">iLTk</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <span class="id" type="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Subst.html#lift"><span class="id" type="definition">lift</span></a> <span class="id" type="var">n</span> <span class="id" type="var">k</span> (<a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <span class="id" type="var">i</span>)). <span class="id" type="tactic">simpl</span>. <span class="id" type="var">case_eq</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Arith.Compare_dec.html#lt_dec"><span class="id" type="lemma">Compare_dec.lt_dec</span></a> <span class="id" type="var">i</span> <span class="id" type="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;i&nbsp;&lt;&nbsp;k&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;~&nbsp;i&nbsp;&lt;&nbsp;k&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="var">contradict</span> <span class="id" type="var">iLTk</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.lift_hap"><span class="id" type="lemma">lift_hap</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.lift_st"><span class="id" type="lemma">lift_st</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.st"><span class="id" type="inductive">st</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> → <span class="id" type="keyword">∀</span> <span class="id" type="var">n</span> <span class="id" type="var">k</span>, <a class="idref" href="Standardization.html#Standardization.st"><span class="id" type="inductive">st</span></a> (<a class="idref" href="Subst.html#lift"><span class="id" type="definition">lift</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>) (<a class="idref" href="Subst.html#lift"><span class="id" type="definition">lift</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">dependent</span> <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;st_hap&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span> <span class="id" type="var">k</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="var">case_eq</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Arith.Compare_dec.html#lt_dec"><span class="id" type="lemma">Compare_dec.lt_dec</span></a> <span class="id" type="var">x</span> <span class="id" type="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;i&nbsp;&lt;&nbsp;k&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_hap"><span class="id" type="constructor">st_hap</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.lift_first_hap"><span class="id" type="lemma">lift_first_hap</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;~&nbsp;i&nbsp;&lt;&nbsp;k&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_hap"><span class="id" type="constructor">st_hap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">FLD</span>: <a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> (<span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">n</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Subst.html#lift"><span class="id" type="definition">lift</span></a> <span class="id" type="var">n</span> <span class="id" type="var">k</span> (<a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <span class="id" type="var">x</span>)). <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">case_eq</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Arith.Compare_dec.html#lt_dec"><span class="id" type="lemma">Compare_dec.lt_dec</span></a> <span class="id" type="var">x</span> <span class="id" type="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;&lt;&nbsp;k&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;~&nbsp;x&nbsp;&lt;&nbsp;k&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">FLD</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.lift_hap"><span class="id" type="lemma">lift_hap</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;st_hap_st_st&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span> <span class="id" type="var">k</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_hap_st_st"><span class="id" type="constructor">st_hap_st_st</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">A</span> := <a class="idref" href="Subst.html#lift"><span class="id" type="definition">lift</span></a> <span class="id" type="var">n</span> <span class="id" type="var">k</span> <span class="id" type="var">A</span>) (<span class="id" type="var">B</span> := <a class="idref" href="Subst.html#lift"><span class="id" type="definition">lift</span></a> <span class="id" type="var">n</span> <span class="id" type="var">k</span> <span class="id" type="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="Subst.html#lift_app"><span class="id" type="lemma">lift_app</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.lift_hap"><span class="id" type="lemma">lift_hap</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">fold</span> <a class="idref" href="Subst.html#lift"><span class="id" type="definition">lift</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHst1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">fold</span> <a class="idref" href="Subst.html#lift"><span class="id" type="definition">lift</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHst2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;st_haplam_st&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span> <span class="id" type="var">k</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_haplam_st"><span class="id" type="constructor">st_haplam_st</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">A</span> := <a class="idref" href="Subst.html#lift"><span class="id" type="definition">lift</span></a> <span class="id" type="var">n</span> (<span class="id" type="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a>1) <span class="id" type="var">A</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="Subst.html#lift_lam"><span class="id" type="lemma">lift_lam</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.lift_hap"><span class="id" type="lemma">lift_hap</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">fold</span> <a class="idref" href="Subst.html#lift"><span class="id" type="definition">lift</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHst</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab29"></a><h4 class="section">(5)</h4>

</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="Standardization.st_st__st_subst"><span class="id" type="lemma">st_st__st_subst</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span> <span class="id" type="var">P</span> <span class="id" type="var">Q</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.st"><span class="id" type="inductive">st</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> → <a class="idref" href="Standardization.html#Standardization.st"><span class="id" type="inductive">st</span></a> <a class="idref" href="Standardization.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Standardization.html#Q"><span class="id" type="variable">Q</span></a> → <span class="id" type="keyword">∀</span> <span class="id" type="var">n</span>, <a class="idref" href="Standardization.html#Standardization.st"><span class="id" type="inductive">st</span></a> (<a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>) (<a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> <a class="idref" href="Standardization.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="Standardization.html#Q"><span class="id" type="variable">Q</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span> <span class="id" type="var">P</span> <span class="id" type="var">Q</span> <span class="id" type="var">HMN</span> <span class="id" type="var">HPQ</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">HMN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;hap&nbsp;with&nbsp;Var&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="Standardization.html#Standardization.hap"><span class="id" type="inductive">hap</span></a> (<a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> <span class="id" type="var">n</span> <span class="id" type="var">P</span> <span class="id" type="var">L</span>) (<a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> <span class="id" type="var">n</span> <span class="id" type="var">P</span> <span class="id" type="var">L</span>)). <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_refl"><span class="id" type="constructor">hap_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="Standardization.html#Standardization.hap"><span class="id" type="inductive">hap</span></a> (<a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> <span class="id" type="var">n</span> <span class="id" type="var">P</span> <span class="id" type="var">L</span>) (<a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> <span class="id" type="var">n</span> <span class="id" type="var">P</span> (<a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <span class="id" type="var">x</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap__hap_subst"><span class="id" type="lemma">hap__hap_subst</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_st__st"><span class="id" type="lemma">hap_st__st</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">M</span> := <a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> <span class="id" type="var">n</span> <span class="id" type="var">P</span> (<a class="idref" href="Untyped.html#DeBruijn.Var"><span class="id" type="constructor">Var</span></a> <span class="id" type="var">x</span>)). <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="var">case_eq</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Arith.Compare_dec.html#nat_compare"><span class="id" type="definition">Compare_dec.nat_compare</span></a> <span class="id" type="var">x</span> <span class="id" type="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Eq&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.lift_st"><span class="id" type="lemma">lift_st</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Lt&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_hap"><span class="id" type="constructor">st_hap</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_refl"><span class="id" type="constructor">hap_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Gt&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_hap"><span class="id" type="constructor">st_hap</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_refl"><span class="id" type="constructor">hap_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;hap&nbsp;with&nbsp;App&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="Subst.html#subst_app"><span class="id" type="lemma">subst_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_hap_st_st"><span class="id" type="constructor">st_hap_st_st</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">A</span> := <a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> <span class="id" type="var">n</span> <span class="id" type="var">P</span> <span class="id" type="var">A</span>) (<span class="id" type="var">B</span> := <a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> <span class="id" type="var">n</span> <span class="id" type="var">P</span> <span class="id" type="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="Subst.html#subst_app"><span class="id" type="lemma">subst_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap__hap_subst"><span class="id" type="lemma">hap__hap_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> (<span class="id" type="var">IHHMN1</span> <span class="id" type="var">n</span>). <span class="id" type="tactic">apply</span> (<span class="id" type="var">IHHMN2</span> <span class="id" type="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;hap&nbsp;with&nbsp;Lam&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_haplam_st"><span class="id" type="constructor">st_haplam_st</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">A</span> := <a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> (<span class="id" type="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a>1) <span class="id" type="var">P</span> <span class="id" type="var">A</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="Subst.html#subst_lam"><span class="id" type="lemma">subst_lam</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap__hap_subst"><span class="id" type="lemma">hap__hap_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="var">IHHMN</span> (<span class="id" type="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a>1)).<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab30"></a><h3 class="section">Lemma 3.5</h3>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.st_app__st_subst"><span class="id" type="lemma">st_app__st_subst</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">L</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.st"><span class="id" type="inductive">st</span></a> <a class="idref" href="Standardization.html#L"><span class="id" type="variable">L</span></a> (<a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>) <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a>) → <a class="idref" href="Standardization.html#Standardization.st"><span class="id" type="inductive">st</span></a> <a class="idref" href="Standardization.html#L"><span class="id" type="variable">L</span></a> (<a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> 0 <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [ | <span class="id" type="var">X</span> <span class="id" type="var">P</span> <span class="id" type="var">N'</span> |]. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span> <span class="id" type="keyword">as</span> [ | | <span class="id" type="var">X'</span> <span class="id" type="var">M'</span> ].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_st__st"><span class="id" type="lemma">hap_st__st</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">M</span> := <a class="idref" href="Subst.html#subst"><span class="id" type="definition">subst</span></a> 0 <span class="id" type="var">N'</span> <span class="id" type="var">M'</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_trans"><span class="id" type="constructor">hap_trans</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">B</span> := <a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> (<a class="idref" href="Untyped.html#DeBruijn.Lam"><span class="id" type="constructor">Lam</span></a> <span class="id" type="var">M'</span>) <span class="id" type="var">N'</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_trans"><span class="id" type="constructor">hap_trans</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">B</span> := <a class="idref" href="Untyped.html#DeBruijn.App"><span class="id" type="constructor">App</span></a> <span class="id" type="var">P</span> <span class="id" type="var">N'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap__app_hap"><span class="id" type="lemma">hap__app_hap</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap_hred"><span class="id" type="constructor">hap_hred</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.hap'_hred"><span class="id" type="constructor">hap'_hred</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_st__st_subst"><span class="id" type="lemma">st_st__st_subst</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab31"></a><h3 class="section">Lemma 3.6</h3>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.st_nthred__st"><span class="id" type="lemma">st_nthred__st</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span> <span class="id" type="var">i</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.nthred"><span class="id" type="inductive">nthred</span></a> <a class="idref" href="Standardization.html#i"><span class="id" type="variable">i</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> → <span class="id" type="keyword">∀</span> <span class="id" type="var">L</span>, <a class="idref" href="Standardization.html#Standardization.st"><span class="id" type="inductive">st</span></a> <a class="idref" href="Standardization.html#L"><span class="id" type="variable">L</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> → <a class="idref" href="Standardization.html#Standardization.st"><span class="id" type="inductive">st</span></a> <a class="idref" href="Standardization.html#L"><span class="id" type="variable">L</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span> <span class="id" type="var">i</span> <span class="id" type="var">Hbet</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">Hbet</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">A</span> <span class="id" type="var">B</span> | <span class="id" type="var">n</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">C</span> | <span class="id" type="var">n</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">C</span> | <span class="id" type="var">n</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;2.1&nbsp;(1)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">L</span> <span class="id" type="var">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_app__st_subst"><span class="id" type="lemma">st_app__st_subst</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;2.1&nbsp;(2)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">L</span> <span class="id" type="var">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">Hst</span> <span class="id" type="keyword">as</span> [| <span class="id" type="var">X</span> <span class="id" type="var">A'</span> <span class="id" type="var">C'</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_hap_st_st"><span class="id" type="constructor">st_hap_st_st</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">A</span> := <span class="id" type="var">A'</span>) (<span class="id" type="var">B</span> := <span class="id" type="var">C'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHHbet</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;2.1&nbsp;(3),&nbsp;(4),&nbsp;(5)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">L</span> <span class="id" type="var">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">Hst</span> <span class="id" type="keyword">as</span> [| <span class="id" type="var">X</span> <span class="id" type="var">A'</span> <span class="id" type="var">C'</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_hap_st_st"><span class="id" type="constructor">st_hap_st_st</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">A</span> := <span class="id" type="var">A'</span>) (<span class="id" type="var">B</span> := <span class="id" type="var">C'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="var">IHHbet</span> <span class="id" type="var">C'</span>); <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;2.1&nbsp;(6)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">L</span> <span class="id" type="var">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">Hst</span> <span class="id" type="keyword">as</span> [| | <span class="id" type="var">X</span> <span class="id" type="var">A'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_haplam_st"><span class="id" type="constructor">st_haplam_st</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">A</span> := <span class="id" type="var">A'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="var">IHHbet</span> <span class="id" type="var">A'</span>). <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.st_bred__st"><span class="id" type="lemma">st_bred__st</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">L</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.bet"><span class="id" type="definition">bet</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> → <a class="idref" href="Standardization.html#Standardization.st"><span class="id" type="inductive">st</span></a> <a class="idref" href="Standardization.html#L"><span class="id" type="variable">L</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> → <a class="idref" href="Standardization.html#Standardization.st"><span class="id" type="inductive">st</span></a> <a class="idref" href="Standardization.html#L"><span class="id" type="variable">L</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="Standardization.html#Standardization.bet"><span class="id" type="definition">bet</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_nthred__st"><span class="id" type="lemma">st_nthred__st</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">M</span> := <span class="id" type="var">M</span>) (<span class="id" type="var">i</span> := <span class="id" type="var">x</span>); <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab32"></a><h3 class="section">Lemma 3.7</h3>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Standardization.betstar_st"><span class="id" type="lemma">betstar_st</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.betstar"><span class="id" type="definition">betstar</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> → <a class="idref" href="Standardization.html#Standardization.st"><span class="id" type="inductive">st</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span> <span class="id" type="var">Hstar</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">Hstar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="Standardization.html#Standardization.st_bred__st"><span class="id" type="lemma">st_bred__st</span></a> <span class="id" type="var">x</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>). <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_refl"><span class="id" type="lemma">st_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;refl&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_refl"><span class="id" type="lemma">st_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;trans&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Relations.Operators_Properties.html#clos_refl_trans_ind_left"><span class="id" type="lemma">Operators_Properties.clos_refl_trans_ind_left</span></a> <a class="idref" href="Untyped.html#DeBruijn.lterm"><span class="id" type="inductive">lterm</span></a> <a class="idref" href="Standardization.html#Standardization.bet"><span class="id" type="definition">bet</span></a> <span class="id" type="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> (<a class="idref" href="Standardization.html#Standardization.st_bred__st"><span class="id" type="lemma">st_bred__st</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y0</span> <span class="id" type="var">z0</span>); <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab33"></a><h3 class="section">Theorem 2.4, Standardization Theorem</h3>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Theorem</span> <a name="Standardization.betstar_stseq"><span class="id" type="lemma">betstar_stseq</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">M</span> <span class="id" type="var">N</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Standardization.html#Standardization.betstar"><span class="id" type="definition">betstar</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> → <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">∃</span></a> <span class="id" type="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Standardization.html#Standardization.seqhead"><span class="id" type="definition">seqhead</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="Standardization.html#Standardization.seqlast"><span class="id" type="definition">seqlast</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Standardization.html#N"><span class="id" type="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">∧</span></a> <a class="idref" href="Standardization.html#Standardization.stseq"><span class="id" type="definition">stseq</span></a> <a class="idref" href="Standardization.html#s"><span class="id" type="variable">s</span></a>.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.st_stseq"><span class="id" type="lemma">st_stseq</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="Standardization.html#Standardization.betstar_st"><span class="id" type="lemma">betstar_st</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="Standardization.html#"><span class="id" type="module">Standardization</span></a>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>